<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>야망찬 개발자의 블로그</title>
    <link>https://sowon-dev.github.io/</link>
    
    <atom:link href="https://sowon-dev.github.io/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>devlog</description>
    <pubDate>Tue, 09 Jan 2024 05:27:58 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>[JS] DOMContentLoaded와 window.onload차이(ft.페이지 라이프사이클Page Lifecycle)</title>
      <link>https://sowon-dev.github.io/2024/01/08/240109domcontentloaded-vs-onload/</link>
      <guid>https://sowon-dev.github.io/2024/01/08/240109domcontentloaded-vs-onload/</guid>
      <pubDate>Mon, 08 Jan 2024 19:56:23 GMT</pubDate>
      
      <description>&lt;p&gt;화면작업을 하면서 페이지로드가 다 된 후 클릭이벤트를 실행하고 싶었다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>화면작업을 하면서 페이지로드가 다 된 후 클릭이벤트를 실행하고 싶었다.</p><a id="more"></a><p>DOMContentLoaded를 쓰다가 window.onload와는 뭐가 다른지 궁금해서 찾아보게되었다.</p><h1 id="✏️-DOMContentLoaded와-window-onload-차이"><a href="#✏️-DOMContentLoaded와-window-onload-차이" class="headerlink" title="✏️ DOMContentLoaded와 window.onload 차이"></a>✏️ DOMContentLoaded와 window.onload 차이</h1><p>window.onload와 DOMContentLoaded 이벤트는 페이지 라이프사이클과 관련이 있고 차이점이 존재한다.</p><p><br><br><br></p><h2 id="1-window-onload-이벤트"><a href="#1-window-onload-이벤트" class="headerlink" title="1. window.onload 이벤트"></a>1. window.onload 이벤트</h2><p>페이지에 있는 모든 자원, 이미지와 스크립트를 포함하여 모두 로드되었을 때 발생한다.<br>전체 페이지가 완전히 로드된 후에 제공된 함수가 실행된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 여기에 코드 작성</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h2 id="2-DOMContentLoaded-이벤트"><a href="#2-DOMContentLoaded-이벤트" class="headerlink" title="2. DOMContentLoaded 이벤트"></a>2. DOMContentLoaded 이벤트</h2><p>HTML 문서가 완전히 로드되고 파싱된 후에 발생하며 스타일시트, 이미지, 서브프레임의 로드를 기다리지 않는다.<br>DOM을 조작하거나 상호작용하는 스크립트를 실행하고자 할 때 주로 사용되며, window.onload보다 빠른 시점에 발생한다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// DOM이 준비되면 실행할 코드</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>대부분의 경우에는 DOMContentLoaded를 사용하는 것이 좋다.<br>외부 자원이 모두 로드되기를 기다리지 않고 최대한 빨리 JavaScript를 실행할 수 있어 사용자가 기다리지않고 빠르게 페이지를 제공할 수 있기 때문이다.<br>만약 모든 외부 자원의 로드를 기다려야 하는 특별한 상황이 있다면 window.onload을 사용할 수 있겠지만, 대부분의 개발에서는 주로 DOMContentLoaded를 더 많이 사용한다.</p><p><br><br><br></p><h1 id="✏️-DOMContentLoaded와-ready-차이"><a href="#✏️-DOMContentLoaded와-ready-차이" class="headerlink" title="✏️ DOMContentLoaded와 ready 차이"></a>✏️ DOMContentLoaded와 ready 차이</h1><p>두 이벤트는 동일한 목적이다.<br>둘 다 DOM이 완전히 로드되고 스크립트 실행히 가능한 시점을 감지하는 것을 목표로 한다.<br>차이점은 jQuery라이브러리 사용유무이다.</p><p><br><br><br></p><h2 id="1-DOMContentLoaded-이벤트"><a href="#1-DOMContentLoaded-이벤트" class="headerlink" title="1. DOMContentLoaded 이벤트"></a>1. DOMContentLoaded 이벤트</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// DOM이 준비되면 실행할 코드</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>이벤트 리스너를 사용하는 방법은 pure JS(Vanilla JS)를 사용하는 방법이다.<br>이벤트 리스너를 통해 DOMContentLoaded 이벤트를 감지하고 그 때 실행할 코드를 정의한다.<br>이벤트 리스너는 여러 개 등록 가능하다.</p><p><br><br><br></p><h2 id="2-jQuery-라이브러리-사용"><a href="#2-jQuery-라이브러리-사용" class="headerlink" title="2. jQuery 라이브러리 사용"></a>2. jQuery 라이브러리 사용</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// DOM이 준비되면 실행할 코드</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>위 문법을 더 단축해서 사용할 수 있다.</p><ul><li>단축된 jQuery 문법<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// DOM이 준비되면 실행할 코드</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p><br><br><br></p><h1 id="✏️-페이지-라이프사이클-Page-Lifecycle"><a href="#✏️-페이지-라이프사이클-Page-Lifecycle" class="headerlink" title="✏️ 페이지 라이프사이클(Page Lifecycle)"></a>✏️ 페이지 라이프사이클(Page Lifecycle)</h1><p><img src="https://developer.mozilla.org/en-US/docs/Web/Performance/Navigation_and_resource_timings/screen_shot_2019-05-03_at_1.06.27_pm.png" alt="MDN-Navigation and resource timings"></p><p>자바스크립트이 페이지 라이프사이클은 아래와 같다</p><ol><li>문서 객체 모델 (DOM) 생성: HTML 문서의 파싱이 끝나면 브라우저는 DOM을 생성</li><li>DOMContentLoaded: HTML 전체가 로드되고 DOM트리가 완성되었지만 이미지, stylesheets등의 외부리소스는 아직 로드되지 않은 상태</li><li>이미지, stylesheets등의 외부리소스 업로드</li><li>load: HTML뿐만 아니라 이미지, stylesheets등의 외부리소스까지 로드가 완료된 상태</li><li>beforeunload: 사용자가 페이지를 떠나려 하는 상태<ol><li>페이지를 떠날 때 사용자에게 확인 메시지를 표시할 수 있는 기회를 제공한다</li></ol></li><li>unload: 페이지가 완전히 로딩된 후 사용자가 브라우저에서 페이지를 나간 상태<ol><li>주로 사용자가 페이지를 닫거나 새로고침할 때 실행되는 코드에 사용한다.</li></ol></li></ol><p>각각 예시를 보자</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. DOMContentLoaded 이벤트</span></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// DOM이 준비되면 실행할 코드</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. load 이벤트</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 이미지, 스크립트까지 준비되면 실행할 코드</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. beforeunload</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'beforeunload'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 확인 메시지를 사용자에게 표시할 수 있는 기회</span></span><br><span class="line">    <span class="keyword">const</span> confirmationMessage = <span class="string">'정말로 떠나시겠습니까?'</span>;</span><br><span class="line">    event.returnValue = confirmationMessage; <span class="comment">// Standard for most browsers</span></span><br><span class="line">    <span class="keyword">return</span> confirmationMessage; <span class="comment">// For some older browsers</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. unload</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'unload'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 페이지가 완전히 로딩된 후에 실행되는 코드</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://javascript.info/onload-ondomcontentloaded">모던자바스크립트-onload</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      
      <comments>https://sowon-dev.github.io/2024/01/08/240109domcontentloaded-vs-onload/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[JS] URL 파라미터(쿼리파라미터Query Parameter)가져오기(ft.EL표현식)</title>
      <link>https://sowon-dev.github.io/2024/01/07/240108jsp-el-queryparam/</link>
      <guid>https://sowon-dev.github.io/2024/01/07/240108jsp-el-queryparam/</guid>
      <pubDate>Sun, 07 Jan 2024 17:20:47 GMT</pubDate>
      
      <description>&lt;p&gt;정말 초간단한 Query Parameter 가져오는 방법은 param 객체를 사용하는 것이다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>정말 초간단한 Query Parameter 가져오는 방법은 param 객체를 사용하는 것이다.</p><a id="more"></a><p>네이버 검색을 예로 들어보자.<br>아래와 같은 URL에서 <code>query=가나다</code>만 가져오고 싶다면 어떻게 해야할까?</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://search.naver.com/search.naver?where=nexearch&amp;sm=top_hty&amp;fbm=0&amp;ie=utf8&amp;query=가나다</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="1-EL표현식-사용"><a href="#1-EL표현식-사용" class="headerlink" title="1. EL표현식 사용!"></a>1. EL표현식 사용!</h1><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$&#123;param.query&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//output : 가나다</span></span><br></pre></td></tr></table></figure><p>해결!</p><p><br><br><br></p><h1 id="2-request사용"><a href="#2-request사용" class="headerlink" title="2. request사용!"></a>2. request사용!</h1><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%= request.getAttribute(<span class="string">"query"</span>) %&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//output : 가나다</span></span><br></pre></td></tr></table></figure><p>이 방법을 활용하면 String뿐만 아니라 객체도 가져올 수 있다.<br>객체 파라미터를 가져오는 방법은 아래 포스팅 참고하면 된다.</p><ul><li><a href="https://sowon-dev.github.io/2020/10/12/201013spring/">참고: 스프링SPRING에서 페이지이동하기, 파라미터가지고 페이지이동하기</a></li></ul><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://sowon-dev.github.io/2023/10/19/231020URLsearchparams/">js에서 URL 파라미터(쿼리파라미터Query Parameter)가져오기</a></li><li><a href="https://sowon-dev.github.io/2024/01/07/240108jsp-el-queryparam/">jsp에서 URL 파라미터(쿼리파라미터Query Parameter)가져오기(ft.EL표현식)</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JSP/">JSP</category>
      
      
      
      <comments>https://sowon-dev.github.io/2024/01/07/240108jsp-el-queryparam/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[JSP/JAVA]글씨쓸때마다 바이트 계산하기</title>
      <link>https://sowon-dev.github.io/2024/01/01/240102byte-check/</link>
      <guid>https://sowon-dev.github.io/2024/01/01/240102byte-check/</guid>
      <pubDate>Mon, 01 Jan 2024 14:54:53 GMT</pubDate>
      
      <description>&lt;p&gt;문자전송 서비스를 만들고있다. 이번에 만드는 문자전송서비스는 바이트 제한이 있으므로 textarea에 글씨를 입력할때마다 자동으로 byte가 계산되며 2000바이트를 넘지 않게 만들고 싶었다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>문자전송 서비스를 만들고있다. 이번에 만드는 문자전송서비스는 바이트 제한이 있으므로 textarea에 글씨를 입력할때마다 자동으로 byte가 계산되며 2000바이트를 넘지 않게 만들고 싶었다.</p><a id="more"></a><p><br><br><br></p><h1 id="화면-jsp"><a href="#화면-jsp" class="headerlink" title="화면 jsp"></a>화면 jsp</h1><p>onkeyup 이벤트를 통해서 textarea에 무언가를 기입하는 순간 바이트 계산이 messagebyte에 실시간으로 보여진다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="keyword">let</span> pickUserList = [];</span><br><span class="line"><span class="keyword">let</span> maxByte = <span class="number">2000</span>; <span class="comment">//sms 는 90바이트 이내로 작성,lms 는 2000바이트</span></span><br><span class="line"><span class="keyword">let</span> totalByte = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn_chk_byte</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    totalByte = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> message = $(obj).val();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> rlen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> one_char = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">let</span> str2 = <span class="string">""</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;message.length; i++) &#123;</span><br><span class="line">        one_char = message.charAt(i);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">escape</span>(one_char).length &gt; <span class="number">4</span>) &#123;</span><br><span class="line">            totalByte += <span class="number">2</span>; <span class="comment">//한글2Byte</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            totalByte++; <span class="comment">//영문 등 나머지 1Byte</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(totalByte &lt;= maxByte)&#123;</span><br><span class="line">            rlen = i+<span class="number">1</span>; <span class="comment">//return할 문자열 갯수</span></span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">    $(<span class="string">"#messagebyte"</span>).text(totalByte);</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">if</span>(totalByte &gt; maxByte) &#123;</span><br><span class="line">        <span class="comment">// alert("한글 "+(maxByte/2)+"자 / 영문 "+maxByte+"자를 초과 입력할 수 없습니다.");</span></span><br><span class="line">        toastr.error(<span class="string">"메세지는 최대 "</span> + maxByte + <span class="string">"byte를 초과할 수 없습니다."</span>);</span><br><span class="line">        str2 = str.substr(<span class="number">0</span>,rlen);                                  <span class="comment">//문자열 자르기</span></span><br><span class="line">        obj.value = str2;</span><br><span class="line">        fnChkByte(obj, maxByte);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- 문자내용 --&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="row"&gt;</span></span><br><span class="line"><span class="regexp">&lt;h4&gt;[문자 내용 작성]&lt;/</span>h4&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-xs-12 col-sm-12 col-md-12"</span>&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"form-group"</span>&gt;</span><br><span class="line">&lt;textarea id=<span class="string">"msg"</span> name=<span class="string">"msg"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"form-control"</span> placeholder=<span class="string">"문자내용을 입력하세요. 최대 2000Byte까지 작성 가능하며 90Byte가 넘으면 단문(SMS)에서 장문(LMS)발송으로 변경됩니다. "</span> rows=<span class="string">"5"</span> onkeyup=<span class="string">"fn_chk_byte(this);"</span>&gt;&lt;<span class="regexp">/textarea&gt;</span></span><br><span class="line"><span class="regexp">&lt;span id="messagebyte"&gt;0&lt;/</span>span&gt;<span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>/ 2000 Byte<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">&lt;div style=<span class="string">"text-align: right;"</span>&gt;* 최대 <span class="number">2000</span>Byte까지 작성 가능하며 <span class="number">90</span>Byte가 넘으면 단문(SMS)에서 장문(LMS)발송으로 변경됩니다.&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="자바코드"><a href="#자바코드" class="headerlink" title="자바코드"></a>자바코드</h1><p>컨트롤러에서 받은 뒤 바이트 계산하는 코드는 아래와 같다.<br>특히 getBytes()에서 한글 인코딩을 제대로 해야지 js와 동일한 바이트수가 계산된다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> bytesLength = param.get(<span class="string">"msgCn"</span>).toString().getBytes(<span class="string">"KSC5601"</span>).length;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Spring/">Spring</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/JAVA/">JAVA</category>
      
      <category domain="https://sowon-dev.github.io/tags/JavaScript/">JavaScript</category>
      
      
      <comments>https://sowon-dev.github.io/2024/01/01/240102byte-check/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[js]observer 사용하기</title>
      <link>https://sowon-dev.github.io/2023/11/20/231121js-observer/</link>
      <guid>https://sowon-dev.github.io/2023/11/20/231121js-observer/</guid>
      <pubDate>Mon, 20 Nov 2023 22:45:55 GMT</pubDate>
      
      <description>&lt;p&gt;load 후에 removeFile 버튼들에 click이벤트를 걸고 싶었다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>load 후에 removeFile 버튼들에 click이벤트를 걸고 싶었다.</p><a id="more"></a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">let</span> removeFileButtons = <span class="built_in">document</span>.querySelectorAll(<span class="string">'[data-role="removeFile"]'</span>);</span><br><span class="line">removeFileButtons.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">button</span>) </span>&#123;</span><br><span class="line">    button.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> fileItem = <span class="keyword">this</span>.closest(<span class="string">'.fileItem'</span>);</span><br><span class="line"><span class="keyword">let</span> uploadFileNm = fileItem.querySelector(<span class="string">'[name="attachFileNm"]'</span>).value;</span><br><span class="line">        <span class="keyword">let</span> uploadFileKey = fileItem.querySelector(<span class="string">'[name="attachFileKey"]'</span>).value;</span><br><span class="line">    deleteFile(uploadFileKey, uploadFileNm);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>하지만 이벤트가 걸렸다 안걸렸다해서 팀장님께 문의드리니 순서때문에 onLoad로는 잡을 수 없다고 하셨다.</p><p><br><br><br></p><h1 id="해결코드"><a href="#해결코드" class="headerlink" title="해결코드"></a>해결코드</h1><p>팀장님은 observer로 도와주셨다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> targetNode = $(<span class="string">"[data-role=fileUploader]"</span>);</span><br><span class="line"><span class="keyword">var</span> observer = <span class="keyword">new</span> MutationObserver(<span class="function"><span class="keyword">function</span>(<span class="params">mutations</span>) </span>&#123;</span><br><span class="line">    mutations.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">mutation</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; mutation.addedNodes.length; i++ ) &#123;</span><br><span class="line">    <span class="keyword">var</span> tag = mutation.addedNodes[i];</span><br><span class="line">    $(tag).find(<span class="string">'[data-role="removeFile"]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    event.preventDefault()</span><br><span class="line">    <span class="keyword">let</span> fileItem = <span class="keyword">this</span>.closest(<span class="string">'.fileItem'</span>);</span><br><span class="line"><span class="keyword">let</span> uploadFileNm = fileItem.querySelector(<span class="string">'[name="attachFileNm"]'</span>).value;</span><br><span class="line"><span class="keyword">let</span> uploadFileKey = fileItem.querySelector(<span class="string">'[name="attachFileKey"]'</span>).value;</span><br><span class="line">        deleteFile(uploadFileKey, uploadFileNm);</span><br><span class="line">    &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">observer.observe(targetNode[<span class="number">0</span>],&#123; <span class="attr">attributes</span>: <span class="literal">false</span>, <span class="attr">childList</span>: <span class="literal">true</span>, <span class="attr">subtree</span>: <span class="literal">true</span>&#125; );</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li>팀장님 지식</li><li><a href="https://ko.javascript.info/mutation-observer">https://ko.javascript.info/mutation-observer</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      
      <comments>https://sowon-dev.github.io/2023/11/20/231121js-observer/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[이클립스/STS] enum 코드 예쁘게 포맷팅하기</title>
      <link>https://sowon-dev.github.io/2023/11/15/231115java-enum-code-formatter/</link>
      <guid>https://sowon-dev.github.io/2023/11/15/231115java-enum-code-formatter/</guid>
      <pubDate>Wed, 15 Nov 2023 01:41:29 GMT</pubDate>
      
      <description>&lt;p&gt;enum을 쓰는데 자동포맷팅이 너무 못생겨서 가독성이 떨어졌다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>enum을 쓰는데 자동포맷팅이 너무 못생겨서 가독성이 떨어졌다.</p><a id="more"></a><p>현재 <a href="https://github.com/google/google-java-format">Google Java Style Guide</a>을 사용하고 있는데 여기서 enum code formatting만 수정했다.</p><h1 id="설정방법"><a href="#설정방법" class="headerlink" title="설정방법"></a>설정방법</h1><ol><li>Preferences &gt; Java &gt; Code Style &gt; Formatter 쿨릭</li><li>Active profile 옆 edit 클릭</li><li>Line Wrapping 탭 클릭</li><li>목록에서 ‘enum’ declaration 찾기</li><li>‘enum’ declaration 하위 Constants 클릭 후 Line wrapping policy를 Wrap all elements, every element on a new line로 변경</li><li>OK 클릭 끝!</li></ol><ul><li>결과</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">enum</span> Food &#123;</span><br><span class="line">APPLE, </span><br><span class="line">BANANA, </span><br><span class="line">STRAWBERRY</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>가독성도 좋고 속시원한 코드 포맷팅스타일이 완성된다!</p><p>코드포맷팅 이클립스/STS 단축키: <code>ctrl + shift + F</code></p><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://stackoverflow.com/questions/19424275/formatting-java-enums-using-one-line-for-every-enum-value-with-eclipse">Formatting Java enums using one line for every enum value with Eclipse</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Journal/">Journal</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/Eclipse/">Eclipse</category>
      
      <category domain="https://sowon-dev.github.io/tags/STS/">STS</category>
      
      
      <comments>https://sowon-dev.github.io/2023/11/15/231115java-enum-code-formatter/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[HTML] radio/checkbox 클릭 안 되는 오류가 label for 때문이라고?</title>
      <link>https://sowon-dev.github.io/2023/11/14/231115lable-for/</link>
      <guid>https://sowon-dev.github.io/2023/11/14/231115lable-for/</guid>
      <pubDate>Tue, 14 Nov 2023 16:22:56 GMT</pubDate>
      
      <description>&lt;p&gt;radio와 checkbox가 클릭이 안되는 오류가 발생했다.&lt;br&gt;css문제인 줄 알고 디자인팀에 문의했는데 css문제가 전혀 없었고 &lt;code&gt;id를 추가하면 됩니다~&lt;/code&gt;하는 답변을 받았다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>radio와 checkbox가 클릭이 안되는 오류가 발생했다.<br>css문제인 줄 알고 디자인팀에 문의했는데 css문제가 전혀 없었고 <code>id를 추가하면 됩니다~</code>하는 답변을 받았다.</p><a id="more"></a><h1 id="문제코드"><a href="#문제코드" class="headerlink" title="문제코드"></a>문제코드</h1><p>FORM으로 데이터를 넘길거니까 name과 value만 신경써서 작업했다.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"reply_type"</span> <span class="attr">value</span>=<span class="string">"email"</span> <span class="attr">checked</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"email"</span>&gt;</span>E-mail<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"reply_type"</span> <span class="attr">value</span>=<span class="string">"post"</span> &gt;</span><span class="tag">&lt;<span class="name">labelfor="post"</span>&gt;</span>우편<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><p>그런데 라디오버튼이 클릭도 안되고 post로 보내도 값이 넘어오지않았다!<br>어디가 문제일까?</p><p><br><br><br></p><h1 id="해결코드"><a href="#해결코드" class="headerlink" title="해결코드"></a>해결코드</h1><p>원인은 <code>label for</code>이었다.<br>웹접근성을 위해 디자인팀에서 추가했는데 내가 미처 확인하지 못했다.<br><code>label for</code>를 쓴다면 input 속성에 id값과 일치 시켜줘야한다!</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"reply_type"</span> <span class="attr">value</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email"</span> <span class="attr">checked</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"email"</span>&gt;</span>E-mail<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"reply_type"</span> <span class="attr">value</span>=<span class="string">"post"</span> <span class="attr">id</span>=<span class="string">"post"</span> &gt;</span><span class="tag">&lt;<span class="name">labelfor="post"</span>&gt;</span>우편<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><p>해결!</p><p><br><br><br></p><h1 id="그럼-checkbox의-경우는"><a href="#그럼-checkbox의-경우는" class="headerlink" title="그럼 checkbox의 경우는?"></a>그럼 checkbox의 경우는?</h1><p>checkbox도 이와 동일하다.<br>name과 value를 잘 넣었는데도 눌러지지않는다면 <code>lable for</code>값과 <code>id</code>값이 일치하는지 의심해보자<br>그리고 사소한 실수 하지말자!</p><p><br><br><br></p><h1 id="근데-label은-왜-쓸까"><a href="#근데-label은-왜-쓸까" class="headerlink" title="근데 label은 왜 쓸까?"></a>근데 label은 왜 쓸까?</h1><ol><li>input 태그 타입 중 month, number, password, radio, range같은 경우 placeholder속성이 없기에 어떤 input인지 설명해줄수가 없다. 따라서 label을 사용해서 명시적으로 용도를 나타내줄수있다.</li><li>웹접근성을 위해 필요하다.</li></ol><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://www.tcpschool.com/html-tag-attrs/label-for">TCP SCHOOL - label태그의 for 속성</a></li><li><a href="https://batcave.tistory.com/79">개발자의 낙원 - label태그 왜 쓸까?</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/HTML-CSS/">HTML&amp;CSS</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/HTML-CSS/">HTML&amp;CSS</category>
      
      
      <comments>https://sowon-dev.github.io/2023/11/14/231115lable-for/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[mybatis] 객체 안에 객체 매핑하기</title>
      <link>https://sowon-dev.github.io/2023/11/14/231114mybatis-resultMap-manyassociation/</link>
      <guid>https://sowon-dev.github.io/2023/11/14/231114mybatis-resultMap-manyassociation/</guid>
      <pubDate>Tue, 14 Nov 2023 01:26:31 GMT</pubDate>
      
      <description>&lt;p&gt;객체를 필드로 사용하는 경우 mybatis에서 &lt;code&gt;&amp;lt;association&amp;gt;&lt;/code&gt;을 활용할 수 있다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>객체를 필드로 사용하는 경우 mybatis에서 <code>&lt;association&gt;</code>을 활용할 수 있다.</p><a id="more"></a><h1 id="객체"><a href="#객체" class="headerlink" title="객체"></a>객체</h1><p>User객체를 필드로 사용하는 2개의 컬럼이 있는 Board객체가 있다.<br>이를 하나의 쿼리로 select해오려면 <code>resultMap</code>과 <code>&lt;association&gt;</code>을 사용하면 된다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Board</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> idx;</span><br><span class="line"><span class="keyword">private</span> String title;</span><br><span class="line"><span class="keyword">private</span> String content;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> writerIdx;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> editorIdx;</span><br><span class="line"><span class="keyword">private</span> User writer;</span><br><span class="line"><span class="keyword">private</span> User editor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> idx;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String mobile;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="쿼리"><a href="#쿼리" class="headerlink" title="쿼리"></a>쿼리</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Board 객체 매핑 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"boardMap"</span> <span class="attr">type</span>=<span class="string">"Board"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">"idx"</span> <span class="attr">column</span>=<span class="string">"IDX"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"title"</span> <span class="attr">column</span>=<span class="string">"TITLE"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"content"</span> <span class="attr">column</span>=<span class="string">"CONTENT"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 아래 userMap 실행해서 가져옴 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"writer"</span> <span class="attr">resultMap</span>=<span class="string">"userMap"</span> <span class="attr">columnPrefix</span>=<span class="string">"WRITER_"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"editor"</span> <span class="attr">resultMap</span>=<span class="string">"userMap"</span> <span class="attr">columnPrefix</span>=<span class="string">"EDITOR_"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- userMap 객체 매핑 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"userMap"</span> <span class="attr">type</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">"idx"</span> <span class="attr">column</span>=<span class="string">"IDX"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"NAME"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"mobile"</span> <span class="attr">column</span>=<span class="string">"MOBILE"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure><p>위처럼 resultMap 매핑코드를 작성해주고 아래와같이 select문을 호출하면 된다</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id="getBoardDetail" parameterType="int" resultMap="reportMap"&gt;</span><br><span class="line"> <span class="keyword">SELECT</span> </span><br><span class="line">b.*,</span><br><span class="line">writer.NAME <span class="keyword">AS</span> WRITER_NAME,</span><br><span class="line">writer.mobile <span class="keyword">AS</span> WRITER_MOBILE,</span><br><span class="line">editor.NAME <span class="keyword">AS</span> EDITOR_NAME,</span><br><span class="line">editor.mobile <span class="keyword">AS</span> EDITOR_MOBILE</span><br><span class="line"><span class="keyword">FROM</span> BOARD b</span><br><span class="line"><span class="keyword">JOIN</span> <span class="keyword">USER</span> writer</span><br><span class="line"><span class="keyword">ON</span> b.WRITER_IDX = writer.IDX</span><br><span class="line"><span class="keyword">JOIN</span> <span class="keyword">USER</span> editor</span><br><span class="line"><span class="keyword">ON</span> b.EDITOR_IDX = editor.IDX</span><br><span class="line"><span class="keyword">WHERE</span> <span class="number">1</span>=<span class="number">1</span></span><br><span class="line"><span class="keyword">AND</span> b.IDX = <span class="comment">#&#123;idx&#125;</span></span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="주의점"><a href="#주의점" class="headerlink" title="주의점"></a>주의점</h1><p>association의 resultMap를 동일한 userMap으로 사용하므로 <code>association의 속성인 columnPrefix</code>로 꼭 구분해줘야한다!<br>이걸 못찾아서 몇시간을 삽질했는지… 절레절레</p>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Database/">Database</category>
      
      <category domain="https://sowon-dev.github.io/categories/Database/MySQL/">MySQL</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/MyBatis/">MyBatis</category>
      
      
      <comments>https://sowon-dev.github.io/2023/11/14/231114mybatis-resultMap-manyassociation/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[mybatis] update시 모두 if test를 써야 할 경우</title>
      <link>https://sowon-dev.github.io/2023/11/14/231114mybatis-if-update-all/</link>
      <guid>https://sowon-dev.github.io/2023/11/14/231114mybatis-if-update-all/</guid>
      <pubDate>Tue, 14 Nov 2023 01:21:04 GMT</pubDate>
      
      <description>&lt;p&gt;mybatis에서 update시 모든 컬럼에 if 조건물을 걸어야할때가 있다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>mybatis에서 update시 모든 컬럼에 if 조건물을 걸어야할때가 있다.</p><a id="more"></a><p>아래와 같이 사용하면 된다.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;update id="testUpdate" parameterType="VO"&gt;</span><br><span class="line">   <span class="keyword">UPDATE</span> testTable</span><br><span class="line">   &lt;<span class="keyword">trim</span> prefix=<span class="string">"SET"</span> suffixOverrides=<span class="string">","</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">if</span> <span class="keyword">test</span>=<span class="string">"testItem1 != null"</span>&gt;testItem1 = <span class="comment">#&#123;testItem1&#125;,&lt;/if&gt;</span></span><br><span class="line">      &lt;<span class="keyword">if</span> <span class="keyword">test</span>=<span class="string">"testItem2 != null"</span>&gt;testItem2 = <span class="comment">#&#123;testItem2&#125;,&lt;/if&gt;</span></span><br><span class="line">   &lt;/<span class="keyword">trim</span>&gt;</span><br><span class="line">   <span class="keyword">WHERE</span></span><br><span class="line">      idx = <span class="comment">#&#123;idx&#125;</span></span><br><span class="line">&lt;/<span class="keyword">update</span>&gt;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Database/">Database</category>
      
      <category domain="https://sowon-dev.github.io/categories/Database/MySQL/">MySQL</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/MyBatis/">MyBatis</category>
      
      
      <comments>https://sowon-dev.github.io/2023/11/14/231114mybatis-if-update-all/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[JS] URL 파라미터(쿼리파라미터Query Parameter)가져오기</title>
      <link>https://sowon-dev.github.io/2023/10/19/231020URLsearchparams/</link>
      <guid>https://sowon-dev.github.io/2023/10/19/231020URLsearchparams/</guid>
      <pubDate>Thu, 19 Oct 2023 15:26:14 GMT</pubDate>
      
      <description>&lt;p&gt;정말 초간단한 Query Parameter 가져오는 방법은 URL객체를 사용하는 것이다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>정말 초간단한 Query Parameter 가져오는 방법은 URL객체를 사용하는 것이다.</p><a id="more"></a><p>네이버 검색을 예로 들어보자.<br>아래와 같은 URL에서 <code>query=가나다</code>만 가져오고 싶다면 어떻게 해야할까?</p><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://search.naver.com/search.naver?where=nexearch&amp;sm=top_hty&amp;fbm=0&amp;ie=utf8&amp;query=가나다</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="URLSearchParams"><a href="#URLSearchParams" class="headerlink" title="URLSearchParams"></a>URLSearchParams</h1><p>URLSearchParams 객체를 활용하면 된다!</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> urlParams = <span class="keyword">new</span> URLSearchParams(<span class="built_in">window</span>.location.search);</span><br><span class="line"><span class="keyword">const</span> query = urlParams.get(<span class="string">'query'</span>); </span><br><span class="line"><span class="built_in">console</span>.log(query)</span><br><span class="line"><span class="comment">//output: 가나다</span></span><br></pre></td></tr></table></figure><p>해결!</p><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams">MDN URLSearchParams 객체</a></li><li><a href="https://sowon-dev.github.io/2023/10/19/231020URLsearchparams/">js에서 URL 파라미터(쿼리파라미터Query Parameter)가져오기</a></li><li><a href="https://sowon-dev.github.io/2024/01/07/240108jsp-el-queryparam/">jsp에서 URL 파라미터(쿼리파라미터Query Parameter)가져오기(ft.EL표현식)</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      
      <comments>https://sowon-dev.github.io/2023/10/19/231020URLsearchparams/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Moment.js] moment String을 Controller에서 LocalDateTime으로 받기</title>
      <link>https://sowon-dev.github.io/2023/10/18/231019momentjs-to-localdatetime/</link>
      <guid>https://sowon-dev.github.io/2023/10/18/231019momentjs-to-localdatetime/</guid>
      <pubDate>Wed, 18 Oct 2023 20:57:25 GMT</pubDate>
      
      <description>&lt;p&gt;moment으로 startDate를 포맷하여 &lt;code&gt;startDate.format(&amp;quot;YYYY-MM-DDTHH:mm:ss&amp;quot;)&lt;/code&gt; ajax를 이용해 컨트롤러로 보냈다.&lt;br&gt;LocalDateTime 데이터타입이 당연히 받을 수 있을 줄 알았는데 typeMismatch.java.time.LocalDateTime 에러가 발생했다. &lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>moment으로 startDate를 포맷하여 <code>startDate.format(&quot;YYYY-MM-DDTHH:mm:ss&quot;)</code> ajax를 이용해 컨트롤러로 보냈다.<br>LocalDateTime 데이터타입이 당연히 받을 수 있을 줄 알았는데 typeMismatch.java.time.LocalDateTime 에러가 발생했다. </p><a id="more"></a><h1 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// request body</span></span><br><span class="line">calendarParam(idx=<span class="number">10</span>, startDate=<span class="number">2023</span><span class="number">-10</span><span class="number">-01</span>T00:<span class="number">00</span>:<span class="number">00</span>, endDate=<span class="number">2023</span><span class="number">-10</span><span class="number">-31</span>T23:<span class="number">59</span>:<span class="number">59</span>)</span><br></pre></td></tr></table></figure><p>클라이언트에서 보내는 데이터는 위와 같다</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Field error in object 'calendarParam' on field 'startDate': rejected value [2023-10-01&amp;amp;#39;T&amp;amp;#39;00:00:00.000]; codes [typeMismatch.calendarParam.startDate,typeMismatch.startDate,typeMismatch.java.time.LocalDateTime,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [calendarParam.startDate,startDate]; arguments []; default message [startDate]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.time.LocalDateTime' for property 'startDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.format.annotation.DateTimeFormat java.time.LocalDateTime] for value '2023-10-01&amp;amp;#39;T&amp;amp;#39;00:00:00.000'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2023-10-01&amp;amp;#39;T&amp;amp;#39;00:00:00.000]]</span><br><span class="line">Field error in object 'calendarParam' on field 'end': rejected value [2023-10-31&amp;amp;#39;T&amp;amp;#39;23:59:59.999];</span><br></pre></td></tr></table></figure><p>typeMismatch 에러가 발생했다.<br>혹시 데이터포맷상 <code>startDate.format(&quot;YYYY-MM-DDTHH:mm:ss&quot;)</code>의 <code>T</code> 때문인가 싶어(그럴리없겠지만) 여러가지를 시도했다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">startDate.format(<span class="string">"YYYY-MM-DD'T'HH:mm:ss"</span>) <span class="comment">//작은따옴표로 감싸보기</span></span><br><span class="line">startDate.format(<span class="string">"YYYY-MM-DD[T]HH:mm:ss"</span>) <span class="comment">//대괄호로 감싸보기</span></span><br><span class="line">startDate.format(<span class="string">"YYYY-MM-DD HH:mm:ss"</span>) <span class="comment">//T없애보기</span></span><br></pre></td></tr></table></figure><p>결과는 여전히 typeMismatch에러였다.</p><p><br><br><br></p><h1 id="해결-String"><a href="#해결-String" class="headerlink" title="해결: String"></a>해결: String</h1><p> LocalDateTime을 쓰고 싶었던 이유는 mybatis에서 시작일과 종료일 날짜연산을 하기위해서였다.<br> LocalDateTime을 String으로 변경하고 나서야 정상 작동했다. String이라도 형식이 맞기때문인지 날짜연산도 잘되었다.<br> 해결!</p>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/Moment-js/">Moment.js</category>
      
      
      <comments>https://sowon-dev.github.io/2023/10/18/231019momentjs-to-localdatetime/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[Moment.js] isSame 오늘날짜와 비교가 안되는 이유</title>
      <link>https://sowon-dev.github.io/2023/10/17/231018momentjs-issame/</link>
      <guid>https://sowon-dev.github.io/2023/10/17/231018momentjs-issame/</guid>
      <pubDate>Tue, 17 Oct 2023 22:05:03 GMT</pubDate>
      
      <description>&lt;p&gt;달력을 만들면서 오늘날짜와 일치하는 셀에는 음영을 넣고 싶었다.&lt;br&gt;여기서 잠깐🤚&lt;br&gt;모먼트js로 달력을 만들고싶다면 &lt;a href=&quot;https://sowon-dev.github.io/2022/08/30/220831js-calendar/&quot;&gt;포스팅:: 동적 달력(캘린더)만들기&lt;/a&gt;을 참조하면 된다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>달력을 만들면서 오늘날짜와 일치하는 셀에는 음영을 넣고 싶었다.<br>여기서 잠깐🤚<br>모먼트js로 달력을 만들고싶다면 <a href="https://sowon-dev.github.io/2022/08/30/220831js-calendar/">포스팅:: 동적 달력(캘린더)만들기</a>을 참조하면 된다.</p><a id="more"></a><h1 id="기존코드"><a href="#기존코드" class="headerlink" title="기존코드"></a>기존코드</h1><p>이번달 1일부터 for문을 돌면서 현재 날짜와 일치하면 class today를 추가해주는 코드를 구현했다. </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> today = moment();</span><br><span class="line"><span class="keyword">const</span> firstDayOfMonth = moment(&#123;today.year(), today.month() + <span class="number">1</span>&#125;).startOf(<span class="string">'month'</span>);</span><br><span class="line"><span class="keyword">let</span> currentDate = firstDayOfMonth.clone().startOf(<span class="string">'week'</span>); <span class="comment">//달력의 현재 셀 날짜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> cell = $(<span class="string">"&lt;td&gt;&lt;/td&gt;"</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 오늘일자인 경우 class 추가하기</span></span><br><span class="line">  <span class="keyword">if</span>(currentDate.isSame(today)&#123;</span><br><span class="line">    cell.addClass(<span class="string">"today"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  tableRow.append(cell);</span><br><span class="line">  currentDate.add(<span class="number">1</span>, <span class="string">'days'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="해결코드"><a href="#해결코드" class="headerlink" title="해결코드"></a>해결코드</h1><p>isSame은 연월일뿐만 아니라 시분초도 같이 확인한 후 같은지 아닌지 판단한다.<br>따라서 포맷도 <code>YYYY-MM-DD</code>로 맞춰주면서 시분초를 00으로 바꿔주는 <code>startOf(&#39;day&#39;)</code>를 사용하면 해결된다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 오늘일자인 경우 class 추가하기</span></span><br><span class="line"><span class="keyword">if</span>(moment(currentDate.startOf(<span class="string">'day'</span>), <span class="string">"YYYY-MM-DD"</span>).isSame(moment(today.startOf(<span class="string">'day'</span>), <span class="string">"YYYY-MM-DD"</span>)))&#123;</span><br><span class="line">  cell.addClass(<span class="string">"today"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/Moment-js/">Moment.js</category>
      
      
      <comments>https://sowon-dev.github.io/2023/10/17/231018momentjs-issame/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[HTML]IMG태그 기본이미지설정(DEFAULT IMG, ONERROR속성) 에러 해결</title>
      <link>https://sowon-dev.github.io/2023/10/15/231016imgtag-onerrer/</link>
      <guid>https://sowon-dev.github.io/2023/10/15/231016imgtag-onerrer/</guid>
      <pubDate>Sun, 15 Oct 2023 20:01:56 GMT</pubDate>
      
      <description>&lt;p&gt;이미지태그사용시 src경로에 이미지가 없다면 기본 이미지를 설정하고 싶었다.&lt;br&gt;찾아보니 onerror 속성을 찾아서 손쉽게 처리할 수 있었다. 그런데 여전히 디폴트이미지를 못 불러오는 에러가 발생했다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>이미지태그사용시 src경로에 이미지가 없다면 기본 이미지를 설정하고 싶었다.<br>찾아보니 onerror 속성을 찾아서 손쉽게 처리할 수 있었다. 그런데 여전히 디폴트이미지를 못 불러오는 에러가 발생했다.</p><a id="more"></a><h1 id="기존코드"><a href="#기존코드" class="headerlink" title="기존코드"></a>기존코드</h1><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"/resources/custom/images/main_$&#123;idx&#125;.png"</span> onerror=<span class="string">"/resources/custom/images/main_default.png"</span> alt=<span class="string">"$&#123;name&#125;이미지"</span>&gt;</span><br></pre></td></tr></table></figure><p>잘했다고 생각했으나 여전히 이미지가 엑박이 떴다.<br>해당 경로에 이미지도 제대로 있는 걸 확인했는데 왜 onerror에서 설정한 경로의 기본이미지가 보이지않을까?</p><p><br><br><br></p><h1 id="해결코드"><a href="#해결코드" class="headerlink" title="해결코드"></a>해결코드</h1><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"/resources/custom/images/main_$&#123;idx&#125;.png"</span> onerror=<span class="string">"this.src='/resources/custom/images/main_default.png'"</span> alt=<span class="string">"$&#123;name&#125; 아이콘"</span>&gt;</span><br></pre></td></tr></table></figure><p>onerror는 함수가 들어가는 곳으로 src속성과는 다르다. 따라서 그냥 경로를 입력하는 것이 아니라 함수로 입력해야한다.<br>따라서 <code>this.src=</code>를 추가하여 함수로 디폴트png가 있는 src로 연결하도록 바꿔주니 원하는대로 정상작동했다.</p><p>해결!</p><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://www.w3schools.com/jsref/event_onerror.asp">onerror Event</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/HTML-CSS/">HTML&amp;CSS</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/HTML-CSS/">HTML&amp;CSS</category>
      
      
      <comments>https://sowon-dev.github.io/2023/10/15/231016imgtag-onerrer/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[ajax]분명 success인데 왜 계속 error로 가는걸까?</title>
      <link>https://sowon-dev.github.io/2023/09/10/230911ajax-sucess-error/</link>
      <guid>https://sowon-dev.github.io/2023/09/10/230911ajax-sucess-error/</guid>
      <pubDate>Sun, 10 Sep 2023 15:39:57 GMT</pubDate>
      
      <description>&lt;p&gt;DB저장도 잘되고 controller를 디버그에서 확인해보니 result값도 정상적으로 잘 작동되었는데 화면에서만 오면 ajax에서 success를 타지않고 error로 빠져버렸다.&lt;br&gt;왜일까?&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>DB저장도 잘되고 controller를 디버그에서 확인해보니 result값도 정상적으로 잘 작동되었는데 화면에서만 오면 ajax에서 success를 타지않고 error로 빠져버렸다.<br>왜일까?</p><a id="more"></a><p><br><br><br></p><h1 id="문제와-원인"><a href="#문제와-원인" class="headerlink" title="문제와 원인"></a>문제와 원인</h1><ul><li><p>controller 코드</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(value = <span class="string">"/admin/new"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> BooleanAndMessageResult <span class="title">save</span><span class="params">(HttpServletRequest request, RedirectAttributes redirectAttributes, @RequestBody List&lt;Admin&gt; list)</span> </span>&#123;</span><br><span class="line">BooleanAndMessageResult result = <span class="keyword">new</span> BooleanAndMessageResult();</span><br><span class="line">Site site = (Site) request.getAttribute(<span class="string">"site"</span>);</span><br><span class="line"><span class="keyword">for</span> (Admin a : list) &#123;</span><br><span class="line">a.setSiteid(site.getSiteid());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result.setResult(<span class="keyword">true</span>);</span><br><span class="line">result.setMessage(<span class="string">"정상적으로 등록 되었습니다."</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">adminService.insertAdminList(list);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">result.setResult(<span class="keyword">false</span>);</span><br><span class="line">result.setMessage(<span class="string">"등록에 실패 하였습니다."</span>);</span><br><span class="line">LOGGER.error(<span class="string">"error : "</span>, e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>js코드</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$.confirm(&#123;</span><br><span class="line">theme: <span class="string">'supervan'</span>,</span><br><span class="line">title: <span class="string">'운영정보관리 저장'</span>,</span><br><span class="line">content: <span class="string">'저장하시겠습니까?'</span>,</span><br><span class="line">confirmButton: <span class="string">'예'</span>,</span><br><span class="line">cancelButton: <span class="string">'아니오'</span>,</span><br><span class="line">confirm: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;        </span><br><span class="line">$.ajax(&#123;</span><br><span class="line">type: <span class="string">"POST"</span></span><br><span class="line">, <span class="attr">url</span>: <span class="string">"/admin/new"</span></span><br><span class="line">, <span class="attr">contentType</span> : <span class="string">"application/json; charset:utf-8"</span></span><br><span class="line">, <span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(jList)</span><br><span class="line">, <span class="attr">dataType</span>: <span class="string">'json'</span></span><br><span class="line">, <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(data.result == <span class="literal">true</span>)&#123;</span><br><span class="line">alert(<span class="string">"저장에 성공했습니다."</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;location.reload(<span class="literal">true</span>);&#125;, <span class="number">2000</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(data.result == <span class="literal">false</span>)&#123;</span><br><span class="line">alert(data.message);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">, <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">request,status,error</span>)</span>&#123;  </span><br><span class="line">alert(<span class="string">"에러가 발생했습니다. 새로고침합니다."</span>);</span><br><span class="line">location.href = <span class="string">"/admin/infosetting"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;,</span><br><span class="line">cancel: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p>위 코드는 한 가지 잘못된 점이 있다.</p><p><br><br></p><h2 id="원인-ResponseBody-누락"><a href="#원인-ResponseBody-누락" class="headerlink" title="원인: @ResponseBody 누락"></a>원인: @ResponseBody 누락</h2><p>@ResponseBody 어노테이션을 이용하면 자바 객체를 HTTP 응답 분문의 객체로 변환하여 클라이언트에 전송 할 수 있다.<br>body에 리턴값을 담아주지 않았기때문에 ajax의 success가 아닌 error로 빠진것이다.</p><p><br><br><br></p><h1 id="해결코드"><a href="#해결코드" class="headerlink" title="해결코드"></a>해결코드</h1><ul><li><p>controller코드</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span>(value = <span class="string">"/admin/new"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span> <span class="comment">// 까먹자말고 추가</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> BooleanAndMessageResult <span class="title">save</span><span class="params">(HttpServletRequest request, RedirectAttributes redirectAttributes, @RequestBody List&lt;Admin&gt; list)</span> </span>&#123;</span><br><span class="line">BooleanAndMessageResult result = <span class="keyword">new</span> BooleanAndMessageResult();</span><br><span class="line">Site site = (Site) request.getAttribute(<span class="string">"site"</span>);</span><br><span class="line"><span class="keyword">for</span> (Admin a : list) &#123;</span><br><span class="line">a.setSiteid(site.getSiteid());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">result.setResult(<span class="keyword">true</span>);</span><br><span class="line">result.setMessage(<span class="string">"정상적으로 등록 되었습니다."</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">adminService.insertAdminList(list);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">result.setResult(<span class="keyword">false</span>);</span><br><span class="line">result.setMessage(<span class="string">"등록에 실패 하였습니다."</span>);</span><br><span class="line">LOGGER.error(<span class="string">"error : "</span>, e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>js코드</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$.confirm(&#123;</span><br><span class="line">theme: <span class="string">'supervan'</span>,</span><br><span class="line">title: <span class="string">'운영정보관리 저장'</span>,</span><br><span class="line">content: <span class="string">'저장하시겠습니까?'</span>,</span><br><span class="line">confirmButton: <span class="string">'예'</span>,</span><br><span class="line">cancelButton: <span class="string">'아니오'</span>,</span><br><span class="line">confirm: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;        </span><br><span class="line">$.ajax(&#123;</span><br><span class="line">type: <span class="string">"POST"</span></span><br><span class="line">, <span class="attr">url</span>: <span class="string">"/admin/new"</span></span><br><span class="line">, <span class="attr">contentType</span> : <span class="string">"application/json; charset:utf-8"</span></span><br><span class="line">, <span class="attr">data</span>: <span class="built_in">JSON</span>.stringify(jList)</span><br><span class="line">, <span class="attr">dataType</span>: <span class="string">'json'</span></span><br><span class="line">, <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(data.result == <span class="literal">true</span>)&#123;</span><br><span class="line">alert(<span class="string">"저장에 성공했습니다."</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;location.reload(<span class="literal">true</span>);&#125;, <span class="number">2000</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(data.result == <span class="literal">false</span>)&#123;</span><br><span class="line">alert(data.message);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">, <span class="attr">error</span>: <span class="function"><span class="keyword">function</span>(<span class="params">request,status,error</span>)</span>&#123;  </span><br><span class="line">alert(<span class="string">"에러가 발생했습니다. 새로고침합니다."</span>);</span><br><span class="line">location.href = <span class="string">"/admin/infosetting"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;,</span><br><span class="line">cancel: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ul><p><br><br></p><h2 id="그래도-해결이-안된다면"><a href="#그래도-해결이-안된다면" class="headerlink" title="그래도 해결이 안된다면?"></a>그래도 해결이 안된다면?</h2><p>ajax에서 잘못된 dataType설정했을 가능성이 높다!<br>jQuery ajax의 setting 중 dataType은 response를 어떤 데이터 형식으로 파싱할 지를 설정하는 것이다.<br><code>dataType: &#39;json&#39;</code>으르 설정했기에 리턴타입을 json으로 주어야하는데 단순 String타입으로 준건 아닌지 체크해보자.<br>데이터형식이 맞지않으면 ajax의 success가 아닌 error로 빠진다.</p>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/ajax/">ajax</category>
      
      
      <comments>https://sowon-dev.github.io/2023/09/10/230911ajax-sucess-error/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[MySQL/MariaDB] 트리메뉴 WITH RECURSIVE로 정렬하기</title>
      <link>https://sowon-dev.github.io/2023/08/21/230822withrecursive-treemenu/</link>
      <guid>https://sowon-dev.github.io/2023/08/21/230822withrecursive-treemenu/</guid>
      <pubDate>Mon, 21 Aug 2023 22:31:43 GMT</pubDate>
      
      <description>&lt;p&gt;트리구조의 메뉴를 select하는 과정에서 1뎁스가 10개가 넘어가니 문제가 발생했다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>트리구조의 메뉴를 select하는 과정에서 1뎁스가 10개가 넘어가니 문제가 발생했다.</p><a id="more"></a><h1 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h1><ul><li>기존코드<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SITEMENUID, PARENTID, SEQ, FULLSEQ</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line"> <span class="keyword">SELECT</span> <span class="string">'1'</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line"> , <span class="string">'00_00_00'</span> <span class="keyword">AS</span> FULLSEQ</span><br><span class="line"> , A1.PARENTID</span><br><span class="line"> , A1.SITEMENUID</span><br><span class="line"> , A1.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span>   </span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">'2'</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line"> , <span class="keyword">CONCAT</span>(A2.SEQ,<span class="string">'_'</span>,A1.SEQ) <span class="keyword">AS</span> FULLSEQ</span><br><span class="line"> , A2.PARENTID</span><br><span class="line"> , A2.SITEMENUID</span><br><span class="line"> , A2.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> tb_site_menu A2</span><br><span class="line"><span class="keyword">ON</span> A1.SITEMENUID = A2.PARENTID</span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">ALL</span> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">'3'</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line">, <span class="keyword">CONCAT</span>(A2.SEQ,<span class="string">'_'</span>,A1.SEQ,<span class="string">'_'</span>,A3.SEQ) <span class="keyword">AS</span> FULLSEQ</span><br><span class="line">, A3.PARENTID</span><br><span class="line">, A3.SITEMENUID</span><br><span class="line">, A3.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> tb_site_menu A2</span><br><span class="line"><span class="keyword">ON</span> A1.SITEMENUID = A2.PARENTID</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> tb_site_menu A3</span><br><span class="line"><span class="keyword">ON</span> A2.SITEMENUID = A3.PARENTID</span><br><span class="line">)  TBL</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> FULLSEQ;</span><br></pre></td></tr></table></figure></li></ul><p>1번 다음에 2번이 와야하는데 VARCHAR라서 1다음에 10이 와버렸다.</p><ul><li>콘솔<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;1뎁스-2뎁스-3뎁스&gt;</span><br><span class="line">00_00_00</span><br><span class="line">1_01</span><br><span class="line">1_02_01</span><br><span class="line">1_02_02</span><br><span class="line">1_03</span><br><span class="line">10_01</span><br><span class="line">10_02</span><br><span class="line">2_01_01</span><br><span class="line">2_01_02</span><br><span class="line">2_02</span><br></pre></td></tr></table></figure></li></ul><p><br><br><br></p><h1 id="LPAD로-해결"><a href="#LPAD로-해결" class="headerlink" title="LPAD로 해결"></a>LPAD로 해결</h1><p>팀장님이 자리수를 맞추면 해결되는 문제라고 알려주셨다.</p><ul><li><p>LPAD추가된 코드</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> SITEMENUID, PARENTID, SEQ, FULLSEQ</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line"> <span class="keyword">SELECT</span> <span class="string">'1'</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line"> , <span class="string">'00_00_00'</span> <span class="keyword">AS</span> FULLSEQ</span><br><span class="line"> , A1.PARENTID</span><br><span class="line"> , A1.SITEMENUID</span><br><span class="line"> , A1.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span>   </span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">'2'</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line"> <span class="comment">-- , CONCAT(A2.SEQ,'_',A1.SEQ) AS FULLSEQ</span></span><br><span class="line"> , <span class="keyword">CONCAT</span>(<span class="keyword">LPAD</span>(A2.SEQ, <span class="number">2</span> , <span class="string">'0'</span>),<span class="string">'_'</span>,<span class="keyword">LPAD</span>(A1.SEQ, <span class="number">2</span> , <span class="string">'0'</span>)) <span class="keyword">AS</span> FULLSEQ</span><br><span class="line"> , A2.PARENTID</span><br><span class="line"> , A2.SITEMENUID</span><br><span class="line"> , A2.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> tb_site_menu A2</span><br><span class="line"><span class="keyword">ON</span> A1.SITEMENUID = A2.PARENTID</span><br><span class="line">    <span class="keyword">UNION</span> <span class="keyword">ALL</span> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">'3'</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line"><span class="comment">-- , CONCAT(A2.SEQ,'_',A1.SEQ,'_',A3.SEQ) AS FULLSEQ</span></span><br><span class="line">, <span class="keyword">CONCAT</span>(<span class="keyword">LPAD</span>(A2.SEQ, <span class="number">2</span> , <span class="string">'0'</span>),<span class="string">'_'</span>,<span class="keyword">LPAD</span>(A1.SEQ, <span class="number">2</span> , <span class="string">'0'</span>),<span class="string">'_'</span>,<span class="keyword">LPAD</span>(A3.SEQ, <span class="number">2</span> , <span class="string">'0'</span>)) <span class="keyword">AS</span> FULLSEQ</span><br><span class="line">, A3.PARENTID</span><br><span class="line">, A3.SITEMENUID</span><br><span class="line">, A3.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> tb_site_menu A2</span><br><span class="line"><span class="keyword">ON</span> A1.SITEMENUID = A2.PARENTID</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> tb_site_menu A3</span><br><span class="line"><span class="keyword">ON</span> A2.SITEMENUID = A3.PARENTID</span><br><span class="line">)  TBL</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> FULLSEQ;</span><br></pre></td></tr></table></figure></li><li><p>콘솔</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;1뎁스-2뎁스-3뎁스&gt;</span><br><span class="line">00_00_00</span><br><span class="line">01_01</span><br><span class="line">01_02_01</span><br><span class="line">01_02_02</span><br><span class="line">01_03</span><br><span class="line">02_01_01</span><br><span class="line">02_01_02</span><br><span class="line">02_02</span><br><span class="line">10_01</span><br><span class="line">10_02</span><br></pre></td></tr></table></figure></li></ul><p>원하는대로 잘 출력!!!</p><p><br><br><br></p><h1 id="더나은-방법-with-recursive"><a href="#더나은-방법-with-recursive" class="headerlink" title="더나은 방법: with recursive"></a>더나은 방법: with recursive</h1><p>팀장님께서 LPAD 대신 with recursive를 써서 쿼리를 더 간단하게 만들수있다고 알려주셨다.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="keyword">recursive</span> menuTree <span class="keyword">as</span> (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="number">1</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line">, <span class="keyword">cast</span>(<span class="string">'00'</span> <span class="keyword">as</span> <span class="built_in">VARCHAR</span>(<span class="number">256</span>)) <span class="keyword">AS</span> FULLSEQ</span><br><span class="line">, A1.PARENTID</span><br><span class="line">, A1.SITEMENUID</span><br><span class="line">, A1.SEQ</span><br><span class="line"><span class="keyword">FROM</span> tb_site_menu A1</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> parent.DEPTH + <span class="number">1</span> <span class="keyword">AS</span> <span class="keyword">DEPTH</span></span><br><span class="line">, <span class="keyword">CONCAT</span>(parent.SEQ, <span class="string">'-'</span>, <span class="keyword">LPAD</span>(child.SEQ, <span class="number">2</span>, <span class="string">'0'</span>)) <span class="keyword">AS</span> FULLSEQ</span><br><span class="line">, child.PARENTID</span><br><span class="line">, child.SITEMENUID</span><br><span class="line">, child.SEQ</span><br><span class="line"><span class="keyword">FROM</span> menuTree <span class="keyword">parent</span></span><br><span class="line"><span class="keyword">JOIN</span> tb_site_menu <span class="keyword">child</span></span><br><span class="line"><span class="keyword">ON</span> parent.SITEMENUID = child.PARENTID</span><br><span class="line">)</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> menuTree <span class="keyword">ORDER</span> <span class="keyword">BY</span> FULLSEQ;</span><br></pre></td></tr></table></figure><p>와 역시 팀장님 최고다…</p><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li>팀장님 지식</li><li><a href="https://sowon-dev.github.io/2021/10/19/211020SQL-recurisve/">WITH RECURSIVE 초간단 설명</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Database/">Database</category>
      
      <category domain="https://sowon-dev.github.io/categories/Database/MySQL/">MySQL</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/MariaDB/">MariaDB</category>
      
      
      <comments>https://sowon-dev.github.io/2023/08/21/230822withrecursive-treemenu/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 해결 의외의 방법</title>
      <link>https://sowon-dev.github.io/2023/08/10/230811jre-jdk/</link>
      <guid>https://sowon-dev.github.io/2023/08/10/230811jre-jdk/</guid>
      <pubDate>Thu, 10 Aug 2023 20:35:47 GMT</pubDate>
      
      <description>&lt;p&gt;잘 되던 maven프로젝트가 refresh만 하면 BeanCreationException을 내며 서버런에 실패했다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>잘 되던 maven프로젝트가 refresh만 하면 BeanCreationException을 내며 서버런에 실패했다.</p><a id="more"></a><h1 id="임시방편"><a href="#임시방편" class="headerlink" title="임시방편"></a>임시방편</h1><p>임시방편으로 BeanCreationException이 나는 경우 <code>Project &gt; Clean</code> 후 서버 재시작하곤 했는데 여간 귀찮고 시간이 많이 드는 일이 아닐 수 없다.</p><p><br><br><br></p><h1 id="의외의-해결방법"><a href="#의외의-해결방법" class="headerlink" title="의외의 해결방법"></a>의외의 해결방법</h1><p>성과장님이 JRE 부분을 확인해주셨다.<br><code>Window &gt; Preferences &gt; Java &gt; Installed JREs</code>에서 경로를 jdk로 잡았었는데 그걸 jdk 하위 jre폴더로 잡아보라고 해주셨다.<br>그리고 놀랍게도 해결!<br>원인은 정확히는 모르겠으나… 일주일 내내 구글링해도해도 절대 해결되지않던 이놈의 BeanCreationException 오류를 해결했다!</p><p><br><br><br></p><h1 id="JRE-VS-JDK"><a href="#JRE-VS-JDK" class="headerlink" title="JRE VS JDK"></a>JRE VS JDK</h1><p>JDK가 JRE를 포함하고 있다.</p><h2 id="JDK-Java-Development-Kit-란"><a href="#JDK-Java-Development-Kit-란" class="headerlink" title="JDK(Java Development Kit)란?"></a>JDK(Java Development Kit)란?</h2><ul><li>JDK는 자바 개발키트(Java Development Kit)의 약자</li><li>JDK안에는 개발 시 필요한 라이브러리들과 javac, javadoc 등의 개발 도구들을 포함되어 있다.</li><li>개발을 하려면 당연히 실행도 시켜줘야 하기 때문에 JRE (Java Runtime Environment)도 함께 포함되어 있습니다.</li></ul><p><br><br></p><h2 id="JRE-Java-Runtime-Environment-란"><a href="#JRE-Java-Runtime-Environment-란" class="headerlink" title="JRE(Java Runtime Environment)란?"></a>JRE(Java Runtime Environment)란?</h2><ul><li>JRE는 자바 실행 환경(Java Runtime Environment)의 약자</li><li>자바로 만들어진 프로그램을 실행시키는데 필요한 라이브러리들과 각종 API, 그리고 자바 가상 머신 (JVM)이 포함</li><li>개발(쓰기)은 안되고 실행(읽기)만 된다</li></ul><br># 참고- 성과장님 지식- [자바 JDK, JRE의 차이점(JDK란? JRE란?)](https://coding-factory.tistory.com/826)]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Spring/">Spring</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/%EC%98%A4%EB%A5%98%EC%9D%BC%EC%A7%80/">오류일지</category>
      
      
      <comments>https://sowon-dev.github.io/2023/08/10/230811jre-jdk/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[MySQL/MariaDB] ON DUPLICATE KEY UPDATE</title>
      <link>https://sowon-dev.github.io/2023/08/01/230802mysql-on-duplicate-key-update/</link>
      <guid>https://sowon-dev.github.io/2023/08/01/230802mysql-on-duplicate-key-update/</guid>
      <pubDate>Tue, 01 Aug 2023 20:41:32 GMT</pubDate>
      
      <description>&lt;p&gt;SQL 쿼리 작성시 PK키가 중복되는 경우 지정한 데이터만 INSERT가 아닌 UPDATE 시킬 수는 없을까?&lt;br&gt;ON DUPLICATE KEY UPDATE를 사용하면 된다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>SQL 쿼리 작성시 PK키가 중복되는 경우 지정한 데이터만 INSERT가 아닌 UPDATE 시킬 수는 없을까?<br>ON DUPLICATE KEY UPDATE를 사용하면 된다.</p><a id="more"></a><h1 id="ON-DUPLICATE-KEY-UPDATE"><a href="#ON-DUPLICATE-KEY-UPDATE" class="headerlink" title="ON DUPLICATE KEY UPDATE"></a>ON DUPLICATE KEY UPDATE</h1><p>INSERT시 PK나 UNIQUE KEY가 중복인 경우 원하는 컬럼만 UPDATE하고 중복되지 않은 경우에는 INSERT된다.</p><p><br><br><br></p><h1 id="예시코드"><a href="#예시코드" class="headerlink" title="예시코드"></a>예시코드</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 테이블생성</span></span><br><span class="line"> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user (</span><br><span class="line"> user_id <span class="built_in">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT PRIMARY <span class="keyword">KEY</span></span><br><span class="line">    , <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">    , mobile <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">    , address <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">    , reg_dt <span class="built_in">DATE</span>()</span><br><span class="line">, update_dt <span class="built_in">DATE</span>()</span><br><span class="line">  ) <span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 제약조건</span></span><br><span class="line"> <span class="keyword">ALTER</span> <span class="keyword">TABLE</span> tb_user <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span> (<span class="keyword">name</span>, mobile);</span><br></pre></td></tr></table></figure><p>테이블 tb_user에서 pk는 user_id이고 AUTO_INCREMENT이고 mobile이 UNIQUE KEY인 경우를 예시로 해보자.<br>이름과 휴대전화번호가 쌍으로 없는 경우 INSERT하고, 존재하는 경우 주소만 UPDATE하는 쿼리는 아래와 같다.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> tb_user</span><br><span class="line">(</span><br><span class="line"><span class="keyword">name</span>,</span><br><span class="line">mobile,</span><br><span class="line">address,</span><br><span class="line">reg_dt</span><br><span class="line">) <span class="keyword">VALUES</span> (</span><br><span class="line"><span class="string">'김테스트'</span>, </span><br><span class="line"><span class="string">'010-1234-1234,</span></span><br><span class="line"><span class="string">'</span>서울 강남구<span class="string">',</span></span><br><span class="line"><span class="string">now()</span></span><br><span class="line"><span class="string">) ON DUPLICATE KEY UPDATE </span></span><br><span class="line"><span class="string">  address = #&#123;address&#125;,</span></span><br><span class="line"><span class="string">  update_dt = now()</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Database/">Database</category>
      
      <category domain="https://sowon-dev.github.io/categories/Database/MySQL/">MySQL</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/MariaDB/">MariaDB</category>
      
      
      <comments>https://sowon-dev.github.io/2023/08/01/230802mysql-on-duplicate-key-update/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[JavaScript/jQuery]제이쿼리 선택자(Selector) 비교</title>
      <link>https://sowon-dev.github.io/2023/07/16/230717js-jquery/</link>
      <guid>https://sowon-dev.github.io/2023/07/16/230717js-jquery/</guid>
      <pubDate>Sun, 16 Jul 2023 19:33:41 GMT</pubDate>
      
      <description>&lt;p&gt;VanillaJS와 jQuery는 최대 10배 속도차이가 발생난다고 한다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>VanillaJS와 jQuery는 최대 10배 속도차이가 발생난다고 한다.</p><a id="more"></a><p>그래서 이번에 손에 익힐겸 jQuery보다 VanillaJS를 사용하려고 노력해봤다. 제일 헷갈리는 부분은 선택자부분이었다.</p><h1 id="선택자-Selector"><a href="#선택자-Selector" class="headerlink" title="선택자(Selector)"></a>선택자(Selector)</h1><table><thead><tr><th align="center">JavaScript</th><th align="center">jQuery</th></tr></thead><tbody><tr><td align="center">document.getElementById(아이디명)</td><td align="center">$(#아이디명)</td></tr><tr><td align="center">document.getElementsByClassName(클래스명)</td><td align="center">$(.클래스명)</td></tr><tr><td align="center">document.getElementsByTagName(태그명)</td><td align="center">$(태그명)</td></tr></tbody></table><ul><li>querySelector: 매칭된 첫번째 element 반환, 조회값 없을땐 <code>null</code> 반환</li><li>querySelectorAll: 매칭된 모든 element를 NodeList로 반환, 조회값 없을땐 <code>[]</code> 반환</li></ul><p><br><br><br></p><h1 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 모든 요소</span></span><br><span class="line">$(<span class="string">"*"</span>)</span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">"*"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ID명이 password인 요소 선택 </span></span><br><span class="line">$(<span class="string">"#password"</span>)</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#password"</span>)</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'password'</span>)</span><br><span class="line"><span class="built_in">window</span>[<span class="string">'password'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Class 명이 'btn'인 요소 선택</span></span><br><span class="line">$(<span class="string">".btn"</span>)</span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">".btn"</span>)</span><br><span class="line"><span class="built_in">document</span>.getElementsByClassName(<span class="string">'btn'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// attribute요소 선택</span></span><br><span class="line">$(<span class="string">'a[target=_blank]'</span>)</span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">'a[target=_blank]'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// input의 value값이 'address'인 요소 선택</span></span><br><span class="line">$(<span class="string">"input[value='address']"</span>)</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"input[value='address']"</span>)</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://github.com/camsong/You-Dont-Need-jQuery">You-Dont-Need-jQuery 깃헙 리포</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/jQuery/">jQuery</category>
      
      <category domain="https://sowon-dev.github.io/tags/%EC%B0%A8%EC%9D%B4/">차이</category>
      
      <category domain="https://sowon-dev.github.io/tags/VanillaJS/">VanillaJS</category>
      
      
      <comments>https://sowon-dev.github.io/2023/07/16/230717js-jquery/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[톰캣Tomcat]SSL이 뭐길래(ft.HTTPS와 비교, 차이점)</title>
      <link>https://sowon-dev.github.io/2023/07/12/230713-server-redirectport443/</link>
      <guid>https://sowon-dev.github.io/2023/07/12/230713-server-redirectport443/</guid>
      <pubDate>Wed, 12 Jul 2023 19:48:06 GMT</pubDate>
      
      <description>&lt;p&gt;톰캣에서 SSL을 적용했는데 개발 중에는 적용된 HTTPS를 없애고 HTTP로만 통신하고싶어서 &lt;code&gt;server.xml&lt;/code&gt;에서 포트를 변경했다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>톰캣에서 SSL을 적용했는데 개발 중에는 적용된 HTTPS를 없애고 HTTP로만 통신하고싶어서 <code>server.xml</code>에서 포트를 변경했다.</p><a id="more"></a><h1 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h1><p>SSL을 미적용하기 위해서 redirectPort포트를 443에서 8443으로 변경했다.</p><ul><li>server.xml<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// SSL적용</span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span> <span class="attr">port</span>=<span class="string">"80"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span> <span class="attr">redirectPort</span>=<span class="string">"443"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">// SSL미적용</span><br><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p>해결은 간단하게 되었지만 SSL이 단순히 인증서라고 생각하고있었는데 정확히 무엇인지 알고싶어졌다.</p><p><br><br><br></p><h1 id="기본부터-하자-HTTP-VS-HTTPS"><a href="#기본부터-하자-HTTP-VS-HTTPS" class="headerlink" title="기본부터 하자! HTTP VS HTTPS"></a>기본부터 하자! HTTP VS HTTPS</h1><p>HTTP는 Hypertext Transfer Protocol의 약자이며 하이퍼텍스트란 링크와 링크로 이루어진 텍스트를 의미하며 그 중 대표적인 것이 HTML이다.<br>즉, Hypertext 인 HTML을 전송하기 위한 통신규약을 의미한다.<br>HTTPS에서 마지막의 S는 Over Secure Socket Layer의 약자로 보안이 강화된 HTTP이다. </p><p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20211117141004/HTTPSdrawio-660x368.png" alt=""><br>HTTP는 암호화되지 않은 방법으로 데이터를 전송하기 때문에 서버와 클라이언트가 주고 받는 메시지를 빼앗기가 쉽다.<br>예를들어 로그인을 위해서 서버로 비밀번호를 전송하거나, 또는 중요한 기밀 문서를 열람하는 과정에서 악의적인 감청이나 데이터의 변조등이 일어날 수 있다. 이를 보안한 것이 HTTPS다.<br>이 블로그도 보안(Secure)된 HTML인 <code>https://sowon-dev.github.io/</code>이다.</p><p><br><br><br></p><h1 id="HTTPS-VS-SSL"><a href="#HTTPS-VS-SSL" class="headerlink" title="HTTPS VS SSL"></a>HTTPS VS SSL</h1><p>SSL는 Secure Socket Layer의 약어로 암호화 소켓층이다.<br><img src="https://wpmudev.com/blog/wp-content/uploads/2021/11/004-https-stack-diagram-vJGB-1050x609.png" alt="https://wpmudev.com/blog/securing-website-https-ssl/"><br>SSL이라는 통신 방법 위에서 동작하는 서비스 중에 하나가 HTTP이다. 그리고 HTTP가 SSL을 이용하면 HTTPS가 된다.</p><p><br><br><br></p><h1 id="SSL-VS-TLS"><a href="#SSL-VS-TLS" class="headerlink" title="SSL VS TLS"></a>SSL VS TLS</h1><p>같은 말!<br>TLS 1.0은 SSL 3.0을 따른다.</p><p><br><br><br></p><h1 id="참고"><a href="#참고" class="headerlink" title="참고"></a>참고</h1><ul><li><a href="https://www.geeksforgeeks.org/difference-between-http-and-https/">https://www.geeksforgeeks.org/difference-between-http-and-https/</a></li><li><a href="https://opentutorials.org/course/228/4894">생활코딩 - HTTPS와 SSL 인증서</a></li></ul>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Server/">Server</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/%EC%B0%A8%EC%9D%B4/">차이</category>
      
      
      <comments>https://sowon-dev.github.io/2023/07/12/230713-server-redirectport443/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[바닐라JS/Pure JS]iframe 내 태그에 접근하고 싶을때(선택자)</title>
      <link>https://sowon-dev.github.io/2023/07/08/230709iframe-contentwindow/</link>
      <guid>https://sowon-dev.github.io/2023/07/08/230709iframe-contentwindow/</guid>
      <pubDate>Sat, 08 Jul 2023 21:39:21 GMT</pubDate>
      
      <description>&lt;p&gt;자주 보는 사이트 중 table의 첫번째 tr을 숨기고 싶어서 스크립트 코드를 만들었다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>자주 보는 사이트 중 table의 첫번째 tr을 숨기고 싶어서 스크립트 코드를 만들었다.</p><a id="more"></a><p>해당 사이트 HTML 구성이 어떻게 되어있는지 몰라서 차근차근 뜯어보았는데<br>iframe 하위에 iframe을 또 부르고 그 하위에 table이 있고 그 하위에 내가 숨기고싶은 tr이 있는 구조였다.</p><h1 id="코드"><a href="#코드" class="headerlink" title="코드"></a>코드</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">"sub2"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">"ifrm"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"tableList"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">// 중략</span><br><span class="line"><span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span>첫번째 - 숨김처리 하고싶다<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span>두번째<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span>&gt;</span>세번째<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>HTML구조를 최대한 간략하게 작성해보았고 스크립트는 아래와 같이 만들어봤다.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 첫번째 tr 숨기기</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"sub2"</span>).contentWindow.document.getElementById(<span class="string">"ifrm"</span>).contentWindow.document.getElementById(<span class="string">"tableList"</span>).querySelector(<span class="string">"tbody &gt; tr"</span>).style.display = <span class="string">"none"</span>;</span><br></pre></td></tr></table></figure><p><br><br><br></p><h1 id="개선-필요점"><a href="#개선-필요점" class="headerlink" title="개선 필요점"></a>개선 필요점</h1><p>크롬 브라우저에서 테스트하면 가끔 <code>TypeError: Cannot read properties of null (reading &#39;contentWindow&#39;)</code> 에러가 발생한다. 어떻게 해결해야하는지 모르겠다. 이 부분 개선필요하다.</p><p><br><br><br></p><h1 id="팀장님-꿀팁🍯"><a href="#팀장님-꿀팁🍯" class="headerlink" title="팀장님 꿀팁🍯"></a>팀장님 꿀팁🍯</h1><p>크롬브라우저에선 개발자도구를 통해 1초만에 js선택자코드를 복사할수있다.<br>F12에서 요소탭의 HTML코드에서 원하는 HTML태그를 우클릭한 후 복사 &gt; JS경로 복사를 선택하면 자동으로 js선택자코드가 클립보드에 복사된다! 그래서 복붙만 해주면 간편하게 이용하면 끝!</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JS경로 복사를 활용한 간단 버전 </span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#tableList &gt; tbody &gt; tr:nth-child(1)"</span>).style.display = <span class="string">"none"</span>;</span><br></pre></td></tr></table></figure><p>잘 적용은 되나 가끔 <code>TypeError: Cannot read properties of null (reading &#39;contentWindow&#39;)</code> 에러가 여전히 발생한다. 어떻게 해결할수있을까…</p>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/JavaScript/">JavaScript</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/VanillaJS/">VanillaJS</category>
      
      
      <comments>https://sowon-dev.github.io/2023/07/08/230709iframe-contentwindow/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>[구글애드센스]수익손실위험 ads.txt파일 문제를 해결해야합니다.(ft.Hexo헥소블로그)</title>
      <link>https://sowon-dev.github.io/2023/07/02/230703ads/</link>
      <guid>https://sowon-dev.github.io/2023/07/02/230703ads/</guid>
      <pubDate>Sun, 02 Jul 2023 22:36:43 GMT</pubDate>
      
      <description>&lt;p&gt;오랜만에 들어간 애드센스에서  &lt;code&gt;수익 손실 위험 - 수익에 심각한 영향을 미치지 않도록 사이트에서 발견된 ads.txt 파일 문제를 해결해야 합니다.&lt;/code&gt; 경고메시지를 확인했다.&lt;br&gt;&lt;code&gt;지금 해결하기&lt;/code&gt;를 클릭해봐도 아무런 반응이 없었다.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>오랜만에 들어간 애드센스에서  <code>수익 손실 위험 - 수익에 심각한 영향을 미치지 않도록 사이트에서 발견된 ads.txt 파일 문제를 해결해야 합니다.</code> 경고메시지를 확인했다.<br><code>지금 해결하기</code>를 클릭해봐도 아무런 반응이 없었다.</p><a id="more"></a><p><img src="/img/230630ads1.PNG" alt="경고 메시지"></p><p><code>자세히 알아보기</code>를 클릭했더니 안내 페이지가 나왔다.<br>안내페이지 그대로 이행했다. 완벽히 해결 된 후 글을 쓰고 싶어서 며칠을 기다렸다가 드디어 오늘에서야 포스팅을 할 수 있게 되었다!</p><p><br><br><br></p><h1 id="타임라인"><a href="#타임라인" class="headerlink" title="타임라인"></a>타임라인</h1><ul><li>230630 문제 발견 및 ads.txt파일 추가 후 배포</li><li>주말이라 체크하는 거 깜박함…</li><li>230703 문제 해결 완료</li></ul><p>구글측 설명으로는 72시간이면 반영이 된다고 한다.<br>72시간이 걸리는 이유는 구글봇이 돌아다니면서 찾아야한다고!</p><p><br><br><br></p><h1 id="문제발견"><a href="#문제발견" class="headerlink" title="문제발견"></a>문제발견</h1><p><img src="/img/230630ads2.PNG" alt=""></p><p>노란 동그라미에서 알 수 있듯 Ads.txt상태가 <code>찾을 수 없음</code> 이기에 경고메시지가 보였던 것이었다.</p><p><br><br><br></p><h1 id="문제해결"><a href="#문제해결" class="headerlink" title="문제해결"></a>문제해결</h1><p><code>지금 해결하기</code>를 클릭해봐도 아무런 반응이 없었기에 <code>자세히 알아보기</code>를 클릭했다.</p><p><img src="/img/230630ads3.PNG" alt="자세히알아보기"></p><p>귀찮지않을까 했는데 생각보다 간단하고 참 쉬웠다.</p><p><br><br></p><h2 id="해결방법"><a href="#해결방법" class="headerlink" title="해결방법"></a>해결방법</h2><ol><li>root경로에 ads.txt파일 신규생성</li><li>신규 파일에 아래 코드 입력 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">google.com, pub-본인게시자코드, DIRECT, f08c47fec0942fa0</span><br></pre></td></tr></table></figure></li><li>잘 되었는지 블로그뒤에 <code>/ads.txt</code>로 2번에서 작성한 코드가 리턴되는 지 확인하기</li><li>끝!</li></ol><p><br><br><br></p><h1 id="해결"><a href="#해결" class="headerlink" title="해결"></a>해결</h1><p>타임라인에서 말한 그대로 230630에 최상위 경로에 ads.txt 파일명으로 신규 파일을 생성했고 게시자코드를 확인하여 기입한 후 배포를 진행했다.<br>그리고 블로그 <a href="https://sowon-dev.github.io/ads.txt">https://sowon-dev.github.io/ads.txt</a> 를 브라우저 주소창에 입력하여 정상적으로 호출되는 지 확인했다.</p><p><img src="/img/230703ads4.PNG" alt="해결인증샷"></p><p>그리고 230703 오늘에서야 구글애드센스에 들어가봤는데 아래처럼 Ads.txt상태가 <code>승인됨</code>으로 변경되었고 더이상 경고메시지도 안나온다!<br>해결!</p>]]></content:encoded>
      
      
      <category domain="https://sowon-dev.github.io/categories/Journal/">Journal</category>
      
      
      <category domain="https://sowon-dev.github.io/tags/Hexo/">Hexo</category>
      
      <category domain="https://sowon-dev.github.io/tags/%EA%B5%AC%EA%B8%80%EC%95%A0%EB%93%9C%EC%84%BC%EC%8A%A4/">구글애드센스</category>
      
      
      <comments>https://sowon-dev.github.io/2023/07/02/230703ads/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
