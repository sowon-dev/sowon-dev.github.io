<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: ITWILL(JAVA) - 야망찬 개발자의 블로그</title><meta property="og:type" content="blog"><meta property="og:title" content="야망찬 개발자의 블로그"><meta property="og:url" content="https://github.com/sowon-dev"><meta property="og:site_name" content="야망찬 개발자의 블로그"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://github.com/img/og_image.png"><meta property="article:author" content="Sowon"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/sowon-dev"},"headline":"야망찬 개발자의 블로그","image":["https://github.com/img/og_image.png"],"author":{"@type":"Person","name":"Sowon"},"description":""}</script><link rel="icon" href="/img/star.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/hope.svg" alt="야망찬 개발자의 블로그" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/sowon-dev/sowon-dev.github.io"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">ITWILL(JAVA)</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-26T00:00:00.000Z" title="2020-08-26T00:00:00.000Z">2020-08-26</time><span class="level-item"><a class="link-muted" href="/categories/Database/">Database</a></span><span class="level-item">15 minutes read (About 2216 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/26/200826dbi/">[ITWILL : DB]Oracle DB구조1 : Database</a></h1><div class="content"><h3 id="ITWILL학원-24강-Database-BY-정지윤강사"><a href="#ITWILL학원-24강-Database-BY-정지윤강사" class="headerlink" title="ITWILL학원 : 24강 Database BY 정지윤강사"></a>ITWILL학원 : 24강 Database BY 정지윤강사</h3><h2 id="1-오라클-데이터베이스-구조"><a href="#1-오라클-데이터베이스-구조" class="headerlink" title="1. 오라클 데이터베이스 구조"></a>1. 오라클 데이터베이스 구조</h2><ul>
<li>오라클DB는 크게 인스턴스(<a href="https://sowon-dev.github.io/2020/08/28/200828dbi/">SGA 메모리구조</a>와 <a href="">백그라운드 프로세스</a>)와 <a href="https://sowon-dev.github.io/2020/08/26/200826dbi/">데이터베이스</a>로 나뉜다.</li>
<li>인스턴스: 메모리 안에 만들어진다. 오라클 시스템의 논리적인 구조(로지컬 스트럭쳐)</li>
<li>데이터베이스: 하드드라이브 안에 만들어 진다. 오라클 시스템의 물리적인 구조이다.(피지컬스트럭쳐). 실제 오라클에 관련된 정보를 담고있는 파일을 칭함.</li>
<li>인스턴스와 데이터베이스는 동적으로 연결되어 있다.</li>
<li>필수파일들이 망가지는 경우 DB가 아예 작동하지 않는다. -&gt; 백업, 복구작업진행해야함.</li>
</ul>
<p><img src="https://t1.daumcdn.net/cfile/tistory/17219A4F50F2E01627" alt="영어버전"></p>
<table style="border-collapse:collapse;border-color:#ccc;border-spacing:0" class="tg"><tbody><tr><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" rowspan="9">Instance</td><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" rowspan="4">SGA<br>(System Grobal Area)<br>메모리구조</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" rowspan="2">Shared pool</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Library cache :<br>- 최근에 실행된 sql구문과 실행계획이 저장되는 공간<br>- LRU(Least Recently Used Algorithm) 알고리즘으로 관리됨.<br>- 대소문자, 공백까지 일치가 되어야 hit됨.</td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Data dictionary cache : <br>- 최근에 사용된 DB 정의정보가 저장된 공간<br>- 정의정보란 file, object, 권한, 제약조건 등<br>- LRU(Least Recently Used Algorithm) 알고리즘으로 관리됨.</td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">DB buffer cache</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Redo log buffer</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" rowspan="5">Background <br>Process</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">PMON</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">SMON</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">DBWR</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">LGWR</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">CKPT</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal"></td></tr><tr><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" rowspan="6">Database</td><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" rowspan="3">Database 3대파일</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Data files</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">실제 data가 저장되는 공간<br>data dictionary가 저장되는 공간<br>datafile 정보 조회 : v$datafile(영구data), v$tempfile(임시data)</td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Control file</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">DB의 무결성 유지/관리할 수 있는 모든 동기화정보가 기록된 공간<br>DB의 논리적/물리적 구조 정보, 마지막 작업번호 등이 저장<br>DB당 하나이상 존재 -&gt; 최대8개까지 다중화기능제공<br>오라클 권장 3개<br>Control file 정보조회: v$controlfile</td></tr><tr><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Redolog files</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">DB에서발생된 변경 작업의 로그정보(Redo data)가 기록된 공간<br>주목적 : Datafile recovery(복구)<br>DB당 최소 2개이상 존재<br>순환형 관리<br>Redo log Group(논리적 구조) : DB당 2개이상<br>Redo log Member(물리적 구조,file) : Redo log Group당 1개이상<br>오라클 권장사항 : Group 3개, Member 2개씩<br>Redolog files 정보조회 : v$log, v$logfile</td></tr><tr><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" colspan="2">Parameter file</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Instance의 정의정보가 기록된 공간<br>SGA할당정보, B/G proc정보 등<br>DB의 여러 설정 정보가 기록된 공간<br>위치 : $ORACLE_HOME/dbs<br>이름 : spfileSID.ora 또는 initSID.ora</td></tr><tr><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal" colspan="2">Password file</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">DB를 시작/종료할 수 있도록 인증해주는 공간.<br>위치 : $ORACLE_HOME/dbs<br>이름 : orapwSID</td></tr><tr><td style="background-color:#bcedd2;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;font-weight:bold;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Optional</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">Archived log files</td><td style="background-color:#fff;border-color:inherit;border-style:solid;border-width:1px;color:#333;font-family:Arial, sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;text-align:left;vertical-align:top;word-break:normal">- Redo log file의 오프라인 복사본<br>- 주목적 : Datafile Recovery<br>- log mode : Narchive log mode VS Archive log mode 중 선택<br>- log mode 정보 조회 : v$database</td></tr></tbody></table>


<p><br><br><br></p>
<h2 id="2-Database-5가지-필수물리적파일"><a href="#2-Database-5가지-필수물리적파일" class="headerlink" title="2. Database 5가지 필수물리적파일"></a>2. Database 5가지 필수물리적파일</h2><h2 id="2-1-datafiles"><a href="#2-1-datafiles" class="headerlink" title="2-1. datafiles"></a>2-1. datafiles</h2><ul>
<li>실제 data가 저장되는 공간 =&gt; 따라서 관리를 잘해야한다.</li>
<li>data dictionary가 저장되는 공간</li>
<li>datafile 정보 조회 : <code>v$datafile</code>, <code>v$tempfile</code><ul>
<li>v$datafile : 영구데이터</li>
<li>v$tempfile : 임시데이터, DB를 끌때 같이 날라감.</li>
</ul>
</li>
<li><code>v$datafile</code>, <code>v$tempfile</code> 라이브러리를 사용하여 정보조회가 가능하다.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// v<span class="variable">$datafile</span> : 영구데이터</span><br><span class="line">desc v<span class="variable">$datafile</span></span><br><span class="line">select name, bytes from v<span class="variable">$datafile</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NAME													  	BYTES</span><br><span class="line">--------------------------------------------------------------- ----------</span><br><span class="line">/u01/app/oracle/oradata/ORCL/datafile/o1_mf_system_fwvn49fw_.dbf  838860800</span><br><span class="line">/u01/app/oracle/oradata/ORCL/datafile/o1_mf_sysaux_fwvn5f1l_.dbf  545259520</span><br><span class="line">/u01/app/oracle/oradata/ORCL/datafile/o1_mf_undotbs1_fwvn66mp_.dbf   73400320</span><br><span class="line">/u01/app/oracle/oradata/ORCL/datafile/o1_mf_users_fwvn681o_.dbf	  5242880</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// v<span class="variable">$tempfile</span> : 임시데이터</span><br><span class="line">desc v<span class="variable">$tempfile</span></span><br><span class="line">select name, bytes from v<span class="variable">$tempfile</span>;</span><br><span class="line"></span><br><span class="line">NAME								  BYTES</span><br><span class="line">------------------------------------------------------------ ----------</span><br><span class="line">/u01/app/oracle/oradata/ORCL/datafile/o1_mf_temp_fwvnbgvk_.tmp  135266304</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-2-Control-file"><a href="#2-2-Control-file" class="headerlink" title="2-2. Control file"></a>2-2. Control file</h2><ul>
<li>데이터베이스의 무결성을 유지 관리할 수 있는 DB의 모든 동기화정보가 기록된 공간</li>
<li>DB의 논리적/물리적 구조 정보, 마지막 작업번호 등이 저장되어있음</li>
<li>DB당 하나만 존재하면 됨.<ul>
<li>컨트롤파일이 날라갔다 = DB가 날라갔다, 컨트롤파일이 과거로 되돌아가는 것 = DB가 과거로 되돌아 가는 것</li>
<li>이렇듯 너무나 중요한 Control file은 백업으로는 역부족하여 데이터손실이 날 수 잇으므로 Control file다중화를 통해서 동시 운영하는 것을 권장.</li>
</ul>
</li>
<li>Control file다중화<ul>
<li>최대8개까지 다중화기능제공되고 오라클 3개권장</li>
<li>다중화가 많을 수록 안정성&#24;, 성능&#8595; (3개든5개든 다중화 갯수만큼 동시에 기록해야해서 성능떨어짐)</li>
<li>다중화가 적을 수록 안정성&#8595;, 성능&#24;</li>
<li>다중화시킬때는 경로를 나눠서 운영해야함. 예를 들어 c드라이브와 d드라이브에 하나씩.</li>
</ul>
</li>
<li>Control file 정보조회 : v$controlfile</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//컨트롤파일 정보 조회</span><br><span class="line">SQL&gt; desc v<span class="variable">$controlfile</span>;</span><br><span class="line"> Name					   Null?    Type</span><br><span class="line"> -------------------------- -------- ---------------</span><br><span class="line"> STATUS 					    VARCHAR2(7)</span><br><span class="line"> NAME						    VARCHAR2(513)</span><br><span class="line"> IS_RECOVERY_DEST_FILE				    VARCHAR2(3)</span><br><span class="line"> BLOCK_SIZE					    NUMBER</span><br><span class="line"> FILE_SIZE_BLKS 				    NUMBER</span><br><span class="line"> CON_ID 					    NUMBER</span><br><span class="line"></span><br><span class="line">SQL&gt; select name from v<span class="variable">$controlfile</span>;</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">/u01/app/oracle/oradata/ORCL/controlfile/o1_mf_fwvn95xm_.ctl</span><br><span class="line">/u01/app/oracle/fast_recovery_area/orcl/ORCL/controlfile/o1_</span><br><span class="line">mf_fwvn96cd_.ctl</span><br></pre></td></tr></table></figure>

<ul>
<li>조회결과를 보면 <code>.ctl</code>컨트롤 파일이 2개이다. 따라서 다중화 개수도 2개이다.</li>
</ul>
<p><br><br><br></p>
<h2 id="2-3-online-Redo-log-files"><a href="#2-3-online-Redo-log-files" class="headerlink" title="2-3. (online) Redo log files"></a>2-3. (online) Redo log files</h2><ul>
<li>DB에서발생된 변경 작업의 로그정보(Redo data)가 기록된 공간<ul>
<li>DB에서발생된 변경 작업이란 DML 후 COMMIT, 오토커밋까지 한 작업</li>
</ul>
</li>
<li>이미 변경작업이 완료된 정보를 왜 로그 남길까? 주목적 : Datafile recovery(복구)</li>
<li>DB당 최소 2개이상존재해야함</li>
<li>순환형으로 관리되는 파일 -&gt; 순환하면서 로그를 덮어쓴다.</li>
<li>다중화기능 제공. 다중화 개수 제한 없음. 다중화가 많을 수록 안정성&#24;, 성능&#8595;</li>
<li>기본 구조:<ul>
<li>Redo log Group(논리적 구조) : DB당 Redo log Group이 2개이상 존재해야함</li>
<li>Redo log Member(물리적 구조, 실질적인 file) : Redo log Group당 1개이상 존재해야함</li>
</ul>
</li>
<li>오라클 권장사항 : Group 3개, Member 2개씩</li>
<li>Redolog files 정보조회 : v$log, v$logfile</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//v<span class="variable">$log</span> 조회</span><br><span class="line">SQL&gt; desc v<span class="variable">$log</span>;</span><br><span class="line"> Name					   Null?    Type</span><br><span class="line"> ---------------------------------- -------- ----------------</span><br><span class="line"> GROUP<span class="comment"># 					    NUMBER</span></span><br><span class="line"> THREAD<span class="comment">#					    NUMBER</span></span><br><span class="line"> SEQUENCE<span class="comment">#					    NUMBER</span></span><br><span class="line"> BYTES						    NUMBER</span><br><span class="line"> BLOCKSIZE					    NUMBER</span><br><span class="line"> MEMBERS					    NUMBER</span><br><span class="line"> ARCHIVED					    VARCHAR2(3)</span><br><span class="line"> STATUS 					    VARCHAR2(16)</span><br><span class="line"> FIRST_CHANGE<span class="comment">#					    NUMBER</span></span><br><span class="line"> FIRST_TIME					    DATE</span><br><span class="line"> NEXT_CHANGE<span class="comment">#					    NUMBER</span></span><br><span class="line"> NEXT_TIME					    DATE</span><br><span class="line"> CON_ID 					    NUMBER</span><br><span class="line"></span><br><span class="line">SQL&gt; select group<span class="comment">#, members, status from v$log;</span></span><br><span class="line"></span><br><span class="line">    GROUP<span class="comment">#    MEMBERS STATUS</span></span><br><span class="line">---------- ---------- --------------------------------</span><br><span class="line">	 1	    2 INACTIVE</span><br><span class="line">	 2	    2 CURRENT</span><br><span class="line">	 3	    2 INACTIVE</span><br></pre></td></tr></table></figure>

<ul>
<li>조회결과를 보면 group은 3개와 각 group별 멤버 2개씩 있는 것을 확인 가능</li>
<li>current로 현재 사용중인 로그파일을 확인 가능</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//v<span class="variable">$logfile</span>조회</span><br><span class="line">SQL&gt; desc v<span class="variable">$logfile</span>;</span><br><span class="line"> Name					   Null?    Type</span><br><span class="line"> ----------------------------------------- -------- ----------------------------</span><br><span class="line"> GROUP<span class="comment"># 					    NUMBER</span></span><br><span class="line"> STATUS 					    VARCHAR2(7)</span><br><span class="line"> TYPE						    VARCHAR2(7)</span><br><span class="line"> MEMBER 					    VARCHAR2(513)</span><br><span class="line"> IS_RECOVERY_DEST_FILE				    VARCHAR2(3)</span><br><span class="line"> CON_ID 					    NUMBER</span><br><span class="line"></span><br><span class="line">SQL&gt; select group<span class="comment">#, member from v$logfile order by group#;</span></span><br><span class="line">    GROUP<span class="comment"># MEMBER</span></span><br><span class="line">---------- ------------------------------------------------------------</span><br><span class="line">	 1 /u01/app/oracle/oradata/ORCL/onlinelog/o1_mf_1_fwvn9ddb_.log</span><br><span class="line">	 1 /u01/app/oracle/fast_recovery_area/orcl/ORCL/onlinelog/o1_mf</span><br><span class="line">	   _1_fwvn9o6v_.log</span><br><span class="line"></span><br><span class="line">	 2 /u01/app/oracle/oradata/ORCL/onlinelog/o1_mf_2_fwvn9ddv_.log</span><br><span class="line">	 2 /u01/app/oracle/fast_recovery_area/orcl/ORCL/onlinelog/o1_mf</span><br><span class="line">	   _2_fwvn9l85_.log</span><br><span class="line"></span><br><span class="line">	 3 /u01/app/oracle/oradata/ORCL/onlinelog/o1_mf_3_fwvn9t6z_.log</span><br><span class="line">	 3 /u01/app/oracle/fast_recovery_area/orcl/ORCL/onlinelog/o1_mf</span><br><span class="line">	   _3_fwvn9xf6_.log</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-4-Parameter-file"><a href="#2-4-Parameter-file" class="headerlink" title="2-4. Parameter file"></a>2-4. Parameter file</h2><ul>
<li>Instance의 정의정보(SGA할당정보, B/G proc정보 등)이 기록된 공간</li>
<li>DB의 여러 설정 정보가 기록된 공간</li>
<li>DB의 켜졌는지 유무는 instance를 보고 말함 -&gt; 인스턴스가 없으면 DB가 꺼져있는 것 </li>
<li>위치 : $ORACLE_HOME/dbs<ul>
<li>어느 기업의 DB든간에 위치가 정해져있다.</li>
</ul>
</li>
<li>이름 : spfileSID.ora 또는 initSID.ora<ul>
<li>SID에는 DB명이 들어감. DB명은 DBA가 DB생성할 때 정함.</li>
<li>파일을 절대 일반적인 편집기로 열면 안됨. 바로 파일이 망가짐</li>
<li>파일을 열고 싶으면 오라클에게 따로 보여달라는 명령어를 내려야함. 추후 학습예정.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//존재하는 지만 체크. 절대 열면 안됨.</span><br><span class="line"></span><br><span class="line">SQL&gt; ! //sql에서눅스로 나가야함</span><br><span class="line"></span><br><span class="line">[oracle@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$ORACLE_HOME</span> //<span class="variable">$ORACLE_HOME</span>이 어디있는지 알려달라는 명령어</span><br><span class="line">/u01/app/oracle/product/12.2.0/dbhome_1</span><br><span class="line">[oracle@localhost ~]$ <span class="built_in">cd</span> /u01/app/oracle/product/12.2.0/dbhome_1/</span><br><span class="line">[oracle@localhost dbhome_1]$ <span class="built_in">cd</span> dbs</span><br><span class="line">[oracle@localhost dbs]$ ls</span><br><span class="line">hc_orcl.dat  hc_resp.dat  init.ora  lkORCL  orapworcl  spfileorcl.ora</span><br></pre></td></tr></table></figure>

<ul>
<li><code>spfileorcl.ora</code>파일이 존재하는 것을 확인할 수 있다.</li>
</ul>
<p><br><br><br></p>
<h2 id="2-5-Password-file"><a href="#2-5-Password-file" class="headerlink" title="2-5. Password file"></a>2-5. Password file</h2><ul>
<li>DB를 시작/종료할 수 있도록 인증해주는 공간.</li>
<li>위치 : $ORACLE_HOME/dbs<ul>
<li>어느 기업의 DB든간에 위치가 정해져있다.</li>
</ul>
</li>
<li>이름 : orapwSID<ul>
<li>SID에는 DB명이 들어감. DB명은 DBA가 DB생성할 때 정함.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//존재하는 지 체크 `orapworcl`</span><br><span class="line">[oracle@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$ORACLE_HOME</span> //<span class="variable">$ORACLE_HOME</span>이 어디있는지 알려달라는 명령어</span><br><span class="line">/u01/app/oracle/product/12.2.0/dbhome_1</span><br><span class="line">[oracle@localhost ~]$ <span class="built_in">cd</span> /u01/app/oracle/product/12.2.0/dbhome_1/</span><br><span class="line">[oracle@localhost dbs]$ ls</span><br><span class="line">hc_orcl.dat  hc_resp.dat  init.ora  lkORCL  orapworcl  spfileorcl.ora</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-6-Archived-log-files-option"><a href="#2-6-Archived-log-files-option" class="headerlink" title="2-6. Archived log files (option)"></a>2-6. Archived log files (option)</h2><ul>
<li>수많은 옵션 데이터 베이스 중에서 알아둬야할 물리적파일이다.</li>
<li>Redo log file의 오프라인 복사본이라고 생각하면 된다.</li>
<li>주목적 : Datafile Recovery</li>
<li>log mode : Narchive log mode VS Archive log mode(권장) 중 선택</li>
<li>log mode 정보 조회 : v$database 안의 log_mode</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; desc v<span class="variable">$database</span> //구조를 조회해서 필요한 컬럼만 출력한다.</span><br><span class="line">SQL&gt; select name, log_mode from v<span class="variable">$database</span>;</span><br><span class="line"></span><br><span class="line">NAME		   LOG_MODE</span><br><span class="line">------------------ ------------------------</span><br><span class="line">ORCL		   NOARCHIVELOG</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-25T00:00:00.000Z" title="2020-08-25T00:00:00.000Z">2020-08-25</time><span class="level-item"><a class="link-muted" href="/categories/Database/">Database</a></span><span class="level-item">2 minutes read (About 355 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/25/200825dbi2/">[ITWILL : DB]Subquery4: with절</a></h1><div class="content"><h3 id="ITWILL학원-23강-Database-BY-정지윤강사"><a href="#ITWILL학원-23강-Database-BY-정지윤강사" class="headerlink" title="ITWILL학원 : 23강 Database BY 정지윤강사"></a>ITWILL학원 : 23강 Database BY 정지윤강사</h3><h2 id="1-with절"><a href="#1-with절" class="headerlink" title="1. with절"></a>1. with절</h2><ul>
<li>복합 query내에서 동일한 쿼리블록이 두 번 이상 발생하면 그 블록을 select문에 사용가능</li>
<li>임시테이블을 만든다고 생각하면 됨.</li>
<li>성능개선</li>
</ul>
<blockquote>
<p>WITH절은 오라클9 이후 버전부터 사용이 가능하며 이름이 부여된 서브쿼리라고 생각하시면 됩니다. 임시테이블을 만든다는 관점에서본다면 VIEW와 쓰임새가 비슷한데 차이점이 있다면 VIEW는 한번 만들어놓으면 DROP할때까지 없어지지 않지만 WITH절의 같은경우 한번 실행할 쿼리문내에 정의되어 있을경우, 그 쿼리문안에서만 실행된다는 차이점이 있습니다.<br>출처 : <a href="https://coding-factory.tistory.com/445">https://coding-factory.tistory.com/445</a></p>
</blockquote>
<blockquote>
<p>WITH절을 사용하는 이유<br>WITH절은 복잡한 SQL에서 동일 블록에 대해 반복적으로 SQL문을 사용하는 경우 그 블록에 이름을 부여하여 재사용 할 수 있게 함으로서 쿼리 성능을 높일 수 있는데 WITH절을 이용하여 미리 이름을 부여해서 Query Block을 만들 수 있습니다. 자주 실행되는 경우 한번만 Parsing되고 Plan 계획이 수립되므로 쿼리의 성능향상에 도움이 됩니다.<br>출처 : <a href="https://coding-factory.tistory.com/445">https://coding-factory.tistory.com/445</a></p>
</blockquote>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-25T00:00:00.000Z" title="2020-08-25T00:00:00.000Z">2020-08-25</time><span class="level-item"><a class="link-muted" href="/categories/Database/">Database</a></span><span class="level-item">4 minutes read (About 612 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/25/200825dbi/">[ITWILL : DB]Subquery3: exists연산자, not exists연산자</a></h1><div class="content"><h3 id="ITWILL학원-23강-Database-BY-정지윤강사"><a href="#ITWILL학원-23강-Database-BY-정지윤강사" class="headerlink" title="ITWILL학원 : 23강 Database BY 정지윤강사"></a>ITWILL학원 : 23강 Database BY 정지윤강사</h3><h2 id="1-exists연산자"><a href="#1-exists연산자" class="headerlink" title="1. exists연산자"></a>1. exists연산자</h2><ul>
<li>서브쿼리의 결과 집합에 행이 존재하는 지 확인하는 연산자.</li>
<li>서브쿼리로부터 결과값이 존재(exist)하면 true를 반환.</li>
<li>서브쿼리로부터 결과값이 존재하지않으면 false를 반환.</li>
<li>상호관련서브쿼리임</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;exists연산자 기본형</span><br><span class="line">select 컬럼명, 컬럼명, 컬럼명</span><br><span class="line">from 테이블명</span><br><span class="line">where exists ( 서브쿼리 );</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;not exists연산자 기본형</span><br><span class="line">select 컬럼명, 컬럼명, 컬럼명</span><br><span class="line">from 테이블명</span><br><span class="line">where not exists ( 서브쿼리 );</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-exists연산자-예시-employees테이블로-부터-자기-자신이-매니저인-사원의-employee-id-last-name-department-id-출력하는-쿼리"><a href="#2-exists연산자-예시-employees테이블로-부터-자기-자신이-매니저인-사원의-employee-id-last-name-department-id-출력하는-쿼리" class="headerlink" title="2. exists연산자 예시 : employees테이블로 부터 자기 자신이 매니저인 사원의 employee_id, last_name, department_id 출력하는 쿼리"></a>2. exists연산자 예시 : employees테이블로 부터 자기 자신이 매니저인 사원의 employee_id, last_name, department_id 출력하는 쿼리</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;exist사용</span><br><span class="line">select employee_id, last_name, department_id</span><br><span class="line">from employees outer</span><br><span class="line">where exists (select &#39;x&#39; from employees where manager_id &#x3D; outer.employee_id);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;구상</span><br><span class="line">select employee_id, last_name, department_id</span><br><span class="line">from employees </span><br><span class="line">where employee_id in (매니저아이디 리스트);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;서브쿼리사용</span><br><span class="line">select employee_id, last_name, department_id</span><br><span class="line">from employees </span><br><span class="line">where employee_id in (select manager_id from employees);</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="3-not-exists연산자-예시-사원이-없는-부서-찾는-쿼리"><a href="#3-not-exists연산자-예시-사원이-없는-부서-찾는-쿼리" class="headerlink" title="3. not exists연산자 예시 : 사원이 없는 부서 찾는 쿼리"></a>3. not exists연산자 예시 : 사원이 없는 부서 찾는 쿼리</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">//not exists사용</span><br><span class="line">select department_id, department_name</span><br><span class="line">from departments d</span><br><span class="line"><span class="built_in">where</span> not exists( select <span class="string">'dept in no one'</span> from employees <span class="built_in">where</span> department_id = d.department_id)</span><br><span class="line">order by department_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//구상</span><br><span class="line">select d.department_id, d.department_name</span><br><span class="line">from departments d</span><br><span class="line"><span class="built_in">where</span> (d.department_id not <span class="keyword">in</span> (사원들이 있는 부서리스트));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//첫번째시도</span><br><span class="line">select d.department_id, d.department_name</span><br><span class="line">from departments d</span><br><span class="line"><span class="built_in">where</span> d.department_id not <span class="keyword">in</span> (select e.department_id from employees e);</span><br><span class="line">//계속 no row인 경우는? null값때문!!! </span><br><span class="line">//근데 에러가 아닌 no row가 나오는 이유는? <span class="built_in">where</span>는 조건절이기때문에 조건이 없다고해서 select구문이 에러가 나진않는다.</span><br><span class="line">//null값 해결법 =&gt; nvl사용</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//두번째시도 : 서브쿼리 + not <span class="keyword">in</span>을 이용해서 풀기 =&gt; 성공</span><br><span class="line">select d.department_id, d.department_name</span><br><span class="line">from departments d</span><br><span class="line"><span class="built_in">where</span> d.department_id not <span class="keyword">in</span> (select nvl(e.department_id, 0) from employees e);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//강사님코드</span><br><span class="line">select department_id, department_name</span><br><span class="line">from departments</span><br><span class="line"><span class="built_in">where</span> department_id not <span class="keyword">in</span> (select department_id </span><br><span class="line">		from employees </span><br><span class="line">		<span class="built_in">where</span> department_id is not null)</span><br><span class="line">order by department_id;</span><br></pre></td></tr></table></figure>

<ul>
<li>no row인 경우는? null값때문!!! </li>
<li>근데 에러가 아닌 no row가 나오는 이유는? where는 조건절이기때문에 조건이 없다고해서 select구문이 에러가 나진않는다.</li>
<li>null값 해결법 =&gt; nvl()함수사용 또는 not null 연산자 사용</li>
<li>테이블 규모가 클때(500행이상)는 함수(nvl)보다 연산자(not null)이 성능이 더 좋다</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-24T00:00:00.000Z" title="2020-08-24T00:00:00.000Z">2020-08-24</time><span class="level-item"><a class="link-muted" href="/categories/Database/">Database</a></span><span class="level-item">6 minutes read (About 872 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/24/200824dbi/">[ITWILL : DB]Subquery2: Inlineview, Scalar Subquery, Correlated Subquery</a></h1><div class="content"><h3 id="ITWILL학원-22강-Database-BY-정지윤강사"><a href="#ITWILL학원-22강-Database-BY-정지윤강사" class="headerlink" title="ITWILL학원 : 22강 Database BY 정지윤강사"></a>ITWILL학원 : 22강 Database BY 정지윤강사</h3><ul>
<li>위치에 따라 다르게 불리는 서브쿼리<ul>
<li><a href="https://sowon-dev.github.io/2020/07/14/200714dbi/">WHERE 중첩 서브쿼리</a></li>
<li>FROM 인라인 뷰</li>
<li>SELECT 스칼라 서브쿼리 </li>
</ul>
</li>
</ul>
<h2 id="1-inlineview"><a href="#1-inlineview" class="headerlink" title="1. inlineview"></a>1. inlineview</h2><p>from절에 sub쿼리가 사용된 경우 쓴다.<br>직급이 사원인 사람들의 이름과 급여를 구하시오.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT emp.last_name, emp.salary</span><br><span class="line">FROM ( SELECT * </span><br><span class="line">	FROM employee AS e</span><br><span class="line">	WHERE e.office_worker=<span class="string">'사원'</span>) emp</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-Scalar-Subquery-스칼라서브쿼리"><a href="#2-Scalar-Subquery-스칼라서브쿼리" class="headerlink" title="2. Scalar Subquery 스칼라서브쿼리"></a>2. Scalar Subquery 스칼라서브쿼리</h2><ul>
<li>SELECT 문에 나타나는 서브쿼리</li>
<li>규모가 제일 작은 중첩서브쿼리유형</li>
<li>한 행에서 정확히 한 행에서 정확히 열 값을 반환.</li>
<li>단일행 서브쿼리 + 단일컬럼 서브쿼리</li>
<li>사용처 <ul>
<li>decode및 case조건 및 표현식 부분</li>
<li>group by제외한 모든 select절</li>
<li>update문의 set절</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//departments테이블에서 department_id, department_name, 각부서별 사원수를 출력하는 쿼리</span><br><span class="line">select department_id, department_name, (select count(*)</span><br><span class="line">			from employees e</span><br><span class="line">			<span class="built_in">where</span> e.department_id = d.department_id) as emp_c</span><br><span class="line">from departments d</span><br><span class="line">order by department_id;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="3-Correlated-Subquery-상호관련서브쿼리"><a href="#3-Correlated-Subquery-상호관련서브쿼리" class="headerlink" title="3. Correlated Subquery 상호관련서브쿼리"></a>3. Correlated Subquery 상호관련서브쿼리</h2><ul>
<li>내부 Subquery에서 외부테이블의 값을 참조할 때 사용.</li>
<li>일반 서브쿼리와 달리 서브쿼리만 따로 돌릴 수 없음.</li>
<li>실행순서 : 메인쿼리에서 만들어진 테이블의 행의 수만큼 후보 행을 하나씩 가져옴 -&gt; 후보행 하나를 사용해서 inner쿼리를 실행 -&gt; 메인 쿼리의 후보행을 다 돌때까지 반복실행 후 결과 출력.</li>
<li>단점 : 성능적으로 유리한 문법이 아님.<ul>
<li>따라서 상호관련서브쿼리말고 다른 문법으로 쓸 수 있다면 그걸 쓰면 됨.</li>
</ul>
</li>
</ul>
<ul>
<li>예제 : 자신의 부서의 평균 급여보다 많은 급여를 받는 사원을 모두 찾을때.<ul>
<li>인라인뷰로도 출력가능</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//상호관련서브쿼리사용</span><br><span class="line">select last_name, salary, department_id</span><br><span class="line">from employees outer</span><br><span class="line"><span class="built_in">where</span> salary &gt; (select avg(salary)</span><br><span class="line">    from employees inner</span><br><span class="line">    <span class="built_in">where</span> inner.department_id = outer.department_id);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//내코드 : 왜 계속 에러가 뜰까했는데 메인쿼리의 select부분이 e1테이블인지 e2테이블인지 모호해서 에러가 났다. 따라서 아래 강사님코드처럼 어디서 가져올지 테이블을 확실히 정해줘야한다.</span><br><span class="line">select last_name, salary, department_id</span><br><span class="line">from (select avg(salary), department_id</span><br><span class="line">            from employees</span><br><span class="line">            group by department_id) e1</span><br><span class="line">join employees e2</span><br><span class="line">on(e1.department_id = e2.department_id)</span><br><span class="line"><span class="built_in">where</span> e2.salary &gt;e1.avg;</span><br><span class="line"></span><br><span class="line">//강사님코드 (인라인뷰사용)</span><br><span class="line">select e1.last_name, e1.salary, e1.department_id</span><br><span class="line">from employees e1</span><br><span class="line">join (select department_id, avg(salary) avgsal</span><br><span class="line">            from employees</span><br><span class="line">            group by department_id) e2</span><br><span class="line">on (e1.department_id = e2.department_id)</span><br><span class="line"><span class="built_in">where</span> e1.salary &gt; e2.avgsal;</span><br></pre></td></tr></table></figure>

<ul>
<li>예제 : 각 부서별 최대 연봉을 받는 사원의 employee_id를 출력하는 쿼리<br>스스로 궁금해서 다른 쿼리구문으로 작성가능 한지 확인해보았다<br>상호관련서브쿼리를 바꾸기 위해서 첫번째로 서브쿼리를 먼저 만들어야한다.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//상호관련서브쿼리사용</span><br><span class="line">select department_id, employee_id, salary</span><br><span class="line">from employees e</span><br><span class="line"><span class="built_in">where</span> 1 = (select count(distinct salary)</span><br><span class="line">            from employees</span><br><span class="line">            <span class="built_in">where</span> e.department_id = department_id</span><br><span class="line">            and e.salary &lt;= salary)</span><br><span class="line">order by department_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//내코드 : 인라인뷰사용</span><br><span class="line">//1. 부서별 최대 연봉 출력</span><br><span class="line">select department_id, max(salary)</span><br><span class="line">from employees </span><br><span class="line">group by department_id</span><br><span class="line">order by department_id;</span><br><span class="line"></span><br><span class="line">//2. 부서별 최대 연봉을 받는 직원의 employee_id출력</span><br><span class="line">select e1.department_id, e1.employee_id, e1.salary</span><br><span class="line">from employees e1</span><br><span class="line">join (select department_id, max(salary) maxsal</span><br><span class="line">        from employees </span><br><span class="line">        group by department_id) e2</span><br><span class="line">on e1.salary = e2.maxsal </span><br><span class="line"><span class="built_in">where</span> e1.department_id = e2.department_id</span><br><span class="line">order by department_id;</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-20T00:00:00.000Z" title="2020-08-20T00:00:00.000Z">2020-08-20</time><span class="level-item"><a class="link-muted" href="/categories/JAVA/">JAVA</a></span><span class="level-item">14 minutes read (About 2084 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/20/200820javai/">[ITWILL : JAVA]멀티스레드프로그래밍1 : 개념, 용어정리, 스래드 상태와 제어</a></h1><div class="content"><h3 id="ITWILL학원-29강-JAVA-BY-윤미영강사"><a href="#ITWILL학원-29강-JAVA-BY-윤미영강사" class="headerlink" title="ITWILL학원 : 29강 JAVA BY 윤미영강사"></a>ITWILL학원 : 29강 JAVA BY 윤미영강사</h3><h2 id="1-개념-용어정리"><a href="#1-개념-용어정리" class="headerlink" title="1. 개념, 용어정리"></a>1. 개념, 용어정리</h2><table>
<thead>
<tr>
<th align="center">용어</th>
<th align="center">개념</th>
</tr>
</thead>
<tbody><tr>
<td align="center">애플리케이션</td>
<td align="center">이클립스나 파워포인트, 브라우저와 같은 코드 덩어리</td>
</tr>
<tr>
<td align="center">프로세스</td>
<td align="center">설치된 애플리케이션을 실행하게되면 운영체제(OS)로부더 메모리의 일정영역을 할당받고 CPU와 HDD를 이용해서 동작하는 것</td>
</tr>
<tr>
<td align="center">멀티프로세스</td>
<td align="center">동시에 여러 프로세스를 실행</td>
</tr>
<tr>
<td align="center">스레드</td>
<td align="center">프로세스 동작의 최소 단위. 모든 프로세스는 하나 이상의 스레드로 구성</td>
</tr>
<tr>
<td align="center">메인스레드</td>
<td align="center">메인스레드가 main()메서드를 실행하면서 애플리케이션이 구동됨</td>
</tr>
<tr>
<td align="center">멀티스레드</td>
<td align="center">둘 이상의 스레드로 구성된 프로세스</td>
</tr>
<tr>
<td align="center">멀티스레드 프로그램</td>
<td align="center">작업을 스레드 단위로 분리해서 병렬 수행가능</td>
</tr>
</tbody></table>
<ul>
<li>스레드는 모든 게임에 자주 사용된다<ul>
<li>총게임에서 총알을 발생하기 등등</li>
</ul>
</li>
</ul>
<p><br><br><br></p>
<h2 id="2-멀티스레드-장단점"><a href="#2-멀티스레드-장단점" class="headerlink" title="2. 멀티스레드 장단점"></a>2. 멀티스레드 장단점</h2><p>장점</p>
<ul>
<li>CUP사용률 향상</li>
<li>작업의 분리로 응답성 향상</li>
<li>자원의 공유를 통한 효율성 증대</li>
</ul>
<p>단점</p>
<ul>
<li>컨텍스트 스위칭 과정에 별도의 비용발생</li>
<li>제어가 어려움 : 어떤 스레드를 먼저 실행할지 제어하기 힘들다</li>
</ul>
<p><img src="https://goodgid.github.io/assets/img/os/what_is_multi_thread_1.png" alt="https://goodgid.github.io/What-is-Multi-Thread/"></p>
<p><br><br><br></p>
<h2 id="3-스레드-생성"><a href="#3-스레드-생성" class="headerlink" title="3. 스레드 생성"></a>3. 스레드 생성</h2><ul>
<li>2가지 생성방법<ol>
<li>Runnable 인터페이스를 구현하는 방법 : 오버라이딩 -&gt; 생성자에 파라미터를 넘겨주면서 객체생성</li>
<li>Thread클래스를 상속받는 방법 : implements 끝</li>
</ol>
</li>
</ul>
<ul>
<li>예시 : <code>-</code>를 5번반복하고 <code>@</code>는 10번 반복후 출력하는 코드이다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span> ; i&lt;<span class="number">5</span>; i++)&#123;</span><br><span class="line">				System.out.print(<span class="string">"-"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	Thread t2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">			System.out.print(<span class="string">"@"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//JVM스케줄러가 달라져서 출력값이 매번 다름</span></span><br><span class="line">	t1.start();</span><br><span class="line">	t2.start();</span><br><span class="line">	System.out.println(<span class="string">"메인끝"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//출력값</span></span><br><span class="line">메인끝</span><br><span class="line">@@--@@@@@---@@@</span><br></pre></td></tr></table></figure>


<ul>
<li><p>위의 코드에 3가지 의문점이있다</p>
<ol>
<li><p>run()이 없는데 실행되었다 : start()가 호출되면 JVM이 운영체제의 스레드 스케줄러에 의해 가능할때 run()을 호출한다.</p>
</li>
<li><p>출력값이 매번다르다 : JVM스케쥴러가 달라져서.</p>
</li>
<li><p><code>메인끝</code>은 맨 마지막에 작성했는데 제일 처음 출력되었다 : main()스레드가 t1의 start()스레드를 생성</p>
<p>하게되면 별도의 스택공간을 구성한다. 이 공간은 메인스레드공간과 전혀 무관한 t1스레드의 공간으로 별도의 흐름이 생겨난다. 이후 두 스레드는 병렬스레드로 번갈아가면서 작업이 되는데 start()스레드 전에 main()스레드가 종료되었기때문에 제일 먼저 출력되었다.</p>
</li>
</ol>
</li>
</ul>
<ul>
<li>만약 위의 코드에서 start()가 아닌 run()을 하면 어떻게 될까?</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">t1.run();</span><br><span class="line">t2.run();</span><br><span class="line">System.out.println(<span class="string">"메인끝"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//출력값</span></span><br><span class="line">-----@@@@@@@@@@메인끝</span><br></pre></td></tr></table></figure>

<ul>
<li>이때는 메인스레드에서 실행되는 것이고 t1과t2가 별도의 스택을 구성하지않기때문에 싱글스레드이므로 코드 순서대로 실행된다.</li>
</ul>
<p><img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F995444505AD60F8314" alt="https://xeros.dev/63"></p>
<p><br><br><br></p>
<h2 id="4-어떤-스레드가-먼저-실행될까"><a href="#4-어떤-스레드가-먼저-실행될까" class="headerlink" title="4. 어떤 스레드가 먼저 실행될까?"></a>4. 어떤 스레드가 먼저 실행될까?</h2><ul>
<li>스레드들은 별도이 스택에서 따로따로 동작하기 때문에 제어가 어렵다.</li>
</ul>
<p><br><br><br></p>
<h2 id="4-1-우선순위를-통한-제어"><a href="#4-1-우선순위를-통한-제어" class="headerlink" title="4-1. 우선순위를 통한 제어"></a>4-1. 우선순위를 통한 제어</h2><ul>
<li><p>스레드가 runnable상태에서 선택될 때는 우선순위가 적용됨.</p>
</li>
<li><p>MIN_PRIORITY = 1, MAX_PRIORITY = 10이다. 노말은 5.</p>
</li>
<li><p>아래예시는 F에 우선순위 10을 주고 T에는 제일 낮은 우선순위를 준 뒤 출력하는 값이다</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MessengerThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MessengerThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">			System.out.print(<span class="keyword">this</span>.getName());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Thread ft =  <span class="keyword">new</span> MessengerThread(<span class="string">"F"</span>);</span><br><span class="line">	Thread tt =  <span class="keyword">new</span> MessengerThread(<span class="string">"T"</span>);</span><br><span class="line">	ft.setPriority(Thread.MIN_PRIORITY); <span class="comment">//MIN_PRIORITY은 1이다.</span></span><br><span class="line">	tt.setPriority(Thread.MAX_PRIORITY); <span class="comment">//MAX_PRIORITY는 10이다</span></span><br><span class="line">	ft.start();</span><br><span class="line">	tt.start();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//출력값</span></span><br><span class="line">FFFFFFFTTTTTTTTTTFFF</span><br></pre></td></tr></table></figure>

<ul>
<li>우선순위때문에 F가 모두 출력된뒤 T가 출력되어야하지만 출력값은 그게 아니다.</li>
<li>왜그럴까?</li>
<li>스레드의 우선순위 역할은 실행할 확률이 높아지는 것뿐 우선순위만으로는 100%제어할 수 없다.</li>
</ul>
<p><br><br><br></p>
<h2 id="4-2-sleep-을-통한-상태제어"><a href="#4-2-sleep-을-통한-상태제어" class="headerlink" title="4-2. sleep()을 통한 상태제어"></a>4-2. sleep()을 통한 상태제어</h2><ul>
<li>sleep()메서드는 동작하는 스레드를 주어진 시간동안 일시정지키셔 대기 풀에서 sleep하게 한다.</li>
<li>대기시간이 끝나거나 interrupt()메서드가 호출되면 대기 풀에서 벗어나 다시 runnable상태로 이동한다.</li>
</ul>
<p><br><br><br></p>
<h2 id="4-3-interrupt-를-통한-상태제어"><a href="#4-3-interrupt-를-통한-상태제어" class="headerlink" title="4-3. interrupt()를 통한 상태제어"></a>4-3. interrupt()를 통한 상태제어</h2><ul>
<li>interrupt()를 사용하여 대기 중인 스레드에게 InterruptedException을 발생시켜 즉시 runnable상태로 이동한다.</li>
<li>sleep()이나 join()으로 인해 대기 풀에 대기 중인 스레드들은 지정된 시간이 지나거나 끼웠던 스레드가 종료되면 자동으로 runnable 상태로 이동한다.</li>
<li>BUT 대기 중인 스레드가 임의로 runnable상태로 바꿔야할 때가 있다<ul>
<li>예를 들어 음악 재생에서 일시정지했다가 다시 실행하는 경우가 해당.</li>
</ul>
</li>
<li>예시 : 카운트10초동안 구구단 문제를 풀고 답을 입력하면 카운드가 종료되면서 사용자가 기입한 답과 정답을 리턴하는 코드이다</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Thread cnt = <span class="keyword">new</span> Thread(()-&gt;&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">10</span>; i&gt;<span class="number">0</span>; i--)&#123;</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"카운트다운: "</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	cnt.start();</span><br><span class="line"></span><br><span class="line">	Random rd = <span class="keyword">new</span> Random();</span><br><span class="line">	<span class="keyword">int</span> first = rd.nextInt(<span class="number">9</span>)+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span> second = rd.nextInt(<span class="number">9</span>)+<span class="number">1</span>;		</span><br><span class="line"></span><br><span class="line">	String result = JOptionPane.showInputDialog(first+<span class="string">" * "</span>+second+<span class="string">" ? "</span>);</span><br><span class="line">	cnt.interrupt();</span><br><span class="line">	System.out.println(<span class="string">"사용자가 기입한 답: "</span>+result+<span class="string">", 정답: "</span>+(first*second));</span><br><span class="line">&#125;<span class="comment">//end of main()</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="4-4-join-를-통한-상태제어"><a href="#4-4-join-를-통한-상태제어" class="headerlink" title="4-4. join()를 통한 상태제어"></a>4-4. join()를 통한 상태제어</h2><ul>
<li>sleep()과 비슷하게 스레드를 대기 풀로 이동시키는 메서드</li>
<li>다른 스레드의 작업이 종료될때까지 join()을 호출하는 스레드는 대기풀에서 대기</li>
<li>다른 작업을 나의 작업에 참여(join)시킨다.</li>
</ul>
<ul>
<li>예시 : 구구단만들기<br>메인스레드와 9개의 구구단 스레드, 숫자를 곱할 때마다 1초씩 sleep()을 호출<br>메인스레드는 구구단 스레드들이 각 단을 완성하면 최종 결과를 출력</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">GuguThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> dan;</span><br><span class="line">	String[] result = <span class="keyword">new</span> String[<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GuguThread</span><span class="params">(<span class="keyword">int</span> dan)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.dan = dan;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">			result[i-<span class="number">1</span>] = dan + <span class="string">"*"</span>+i+<span class="string">"="</span>+(dan*i);</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"단완료"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	List&lt;GuguThread&gt; gs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i &lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">			GuguThread g = <span class="keyword">new</span> GuguThread(i); <span class="comment">//생성</span></span><br><span class="line">			gs.add(g);</span><br><span class="line">			g.start(); <span class="comment">//스레드생성ㄴ</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(GuguThread g : gs)&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			g.join();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	System.out.println(<span class="string">"\n 구구단출력"</span>);</span><br><span class="line">	<span class="keyword">for</span>(GuguThread g : gs)&#123;</span><br><span class="line">		System.out.println(Arrays.toString(g.result));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="4-5-yield-를-통한-상태제어"><a href="#4-5-yield-를-통한-상태제어" class="headerlink" title="4-5. yield()를 통한 상태제어"></a>4-5. yield()를 통한 상태제어</h2><ul>
<li>sleep()이나 join()은 스레드 상태를 대기상태로 변경하는 반면 yield()는 대기상태로 변하지 않고 동일한 우선순위를 가진 다른 스레드에게 실행을 양보하고 즉시 runnable상태가 변경된다.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">YieldThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	String s;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">YieldThread</span><span class="params">(String s)</span></span>&#123; <span class="comment">//생성자</span></span><br><span class="line">		<span class="keyword">this</span>.s = s;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">60</span>; i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i%<span class="number">2</span>==<span class="number">0</span>)&#123; <span class="comment">//짝수이면</span></span><br><span class="line">				System.out.print(s);</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				Thread.yield();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">new</span> YieldThread(<span class="string">"@"</span>).start();</span><br><span class="line">	<span class="keyword">new</span> YieldThread(<span class="string">"*"</span>).start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//출력값</span></span><br><span class="line">교대로 마음대로 출력된다</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="5-스레드의-종료"><a href="#5-스레드의-종료" class="headerlink" title="5. 스레드의 종료"></a>5. 스레드의 종료</h2><ul>
<li>run()스레드가 끝나면 자동으로 종료</li>
<li>외부조건에 의해 스레드 종료 가능 : stop()메서드가 있지만 안정성을 위해 flag값을 이용해서 내부값을 자연스럽게 종료시켜야한다.</li>
<li>종료된 메서드는 생존주기가 소멸된다 -&gt; 한 번 소멸된 스레드는 다시 start()를 통해서 runnable로 이동할 수 없다.</li>
<li>예시 : stop()과 flag사용법 차이</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Rut</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"자원획득"</span>);</span><br><span class="line">		<span class="keyword">while</span>(flag)&#123;</span><br><span class="line">			<span class="keyword">try</span>&#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125;<span class="keyword">catch</span>(InterruptedException e)&#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;System.out.println(<span class="string">"자원사용"</span>);</span><br><span class="line">		&#125;System.out.println(<span class="string">"자원반납"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	Rut t = <span class="keyword">new</span> Rut();</span><br><span class="line">	t.start();</span><br><span class="line">	Scanner s = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">	<span class="keyword">if</span>(s.nextLine().equals(<span class="string">"s"</span>))&#123;</span><br><span class="line">		t.stop();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		t.flag = <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//자원해제</span></span><br><span class="line">	s.close();</span><br><span class="line">	System.out.println(<span class="string">"메인끝"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>flag는 자원반납까지가능</li>
<li>stop은 자원반납못하고 즉시 종료됨</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-20T00:00:00.000Z" title="2020-08-20T00:00:00.000Z">2020-08-20</time><span class="level-item"><a class="link-muted" href="/categories/Database/">Database</a></span><span class="level-item">8 minutes read (About 1258 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/20/200820dbi/">[ITWILL : DB] Top-N분석</a></h1><div class="content"><h3 id="ITWILL학원-21강-Database-BY-정지윤강사"><a href="#ITWILL학원-21강-Database-BY-정지윤강사" class="headerlink" title="ITWILL학원 : 21강 Database BY 정지윤강사"></a>ITWILL학원 : 21강 Database BY 정지윤강사</h3><h2 id="1-개념"><a href="#1-개념" class="headerlink" title="1. 개념"></a>1. 개념</h2><ul>
<li>Subquery에서 확장된 문법.</li>
<li>컬럼에서 가장 큰 n개의 값 또는 가장 작은 n개의 값을 요청함.</li>
</ul>
<ul>
<li>ROWNUM : 서브퀴리에서 반환되는 결과집합에 순차적인 번호를 할당.<ul>
<li>진짜 컬럼이 아닌데 컬럼처럼 행동하는 요소.</li>
<li>행번호 의사컬럼(현재행의 순서를 반환 의사컬럼).</li>
<li>오라클 전용.</li>
<li>ROWNUM은 쿼리의 결과를 하나의 ROW씩 가져오면서 숫자를 지정함.</li>
<li>rownum 조건을 첫번째 숫자가 아니라 중간부터 지정하면 결과를 얻을수 없다.</li>
<li>이때 서브쿼리를 사용하면 숫자를 먼저 지정한 테이블을 사용하기 때문에 조건을 중간부터(BETWEEN문 사용가능) 사용할 수있음.</li>
</ul>
</li>
</ul>
<ul>
<li>인라인뷰 : FROM절에 있는 서브퀴리.</li>
<li>예를 들어 가장 적게 팔린 제품 10가지는? 회사의 최상위 소득자 3명은?</li>
</ul>
<p><br><br><br></p>
<h2 id="2-예시1"><a href="#2-예시1" class="headerlink" title="2. 예시1"></a>2. 예시1</h2><ul>
<li>급여를 가장 적게 받는 직원 3명을 구하려면 부등호 방향이 바뀌는 것이 아니라 정렬이 바뀐다. =&gt; <code>desc</code>생략. <code>where rownum &lt;= 3;</code> 그대로</li>
<li>근속일수가 가장 오래된 직원 5명을 구하려면 부등호 방향이 바뀌는 것이 아니라 정렬이 바뀐다. =&gt; <code>desc</code>생략. <code>where rownum &lt;= 5;</code> 그대로</li>
</ul>
<p><img src="https://player.slidesplayer.org/91/14937388/slides/slide_28.jpg" alt="https://slidesplayer.org/slide/14937388/"></p>
<p><br><br><br></p>
<h2 id="3-예시2-employees테이블에서-최하위-소득자-5명의-last-name-salary를-출력하는-구문"><a href="#3-예시2-employees테이블에서-최하위-소득자-5명의-last-name-salary를-출력하는-구문" class="headerlink" title="3. 예시2 : employees테이블에서 최하위 소득자 5명의 last_name, salary를 출력하는 구문."></a>3. 예시2 : employees테이블에서 최하위 소득자 5명의 last_name, salary를 출력하는 구문.</h2><ul>
<li>최상위 소득자를 작성할때, 부등호 방향이 바뀌는 것이 아니라 정렬이 바뀐다. =&gt; <code>desc</code>추가. <code>where rownum &lt;= 5;</code> 그대로</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select rownum as rank, last_name, salary</span><br><span class="line">from (select last_name, salary from employees order by salary)</span><br><span class="line">where rownum &lt;&#x3D; 5;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="4-예시3-employees테이블에서-가장-예전에-입사한-사원-10명의-employee-id-last-name-hire-date를-출력하는-구문"><a href="#4-예시3-employees테이블에서-가장-예전에-입사한-사원-10명의-employee-id-last-name-hire-date를-출력하는-구문" class="headerlink" title="4. 예시3 : employees테이블에서 가장 예전에 입사한 사원 10명의 employee_id, last_name, hire_date를 출력하는 구문"></a>4. 예시3 : employees테이블에서 가장 예전에 입사한 사원 10명의 employee_id, last_name, hire_date를 출력하는 구문</h2><ul>
<li>예시문제를 보고 처음에 작성한 코드는 아래와 같았다.</li>
<li>서브쿼리에서 employee_id 컬럼은 필요없으니까 빼고 작성했는데 오류가 발생했다.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select rownum as rank, employee_id, last_name, hire_date</span><br><span class="line">from (select last_name, hire_date from employees order by hire_date)</span><br><span class="line">where rownum &lt;&#x3D; 10;</span><br></pre></td></tr></table></figure>


<ul>
<li>select에서 출력될 컬럼은 from절안의 서브쿼리 select 컬럼에 무조건 있어야한다. -&gt; 서브쿼리 출력값을 하나의 인라인뷰를 만드는데 인라인뷰 컬럼에 없다면 메인 select는 해당 컬럼을 찾지못한다.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select rownum as rank, employee_id, last_name, hire_date</span><br><span class="line">from (select employee_id, last_name, hire_date from employees order by hire_date)</span><br><span class="line">where rownum &lt;&#x3D; 10;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="5-퀴즈-최상위-소득자-순으로-10위에서-20위-구하기"><a href="#5-퀴즈-최상위-소득자-순으로-10위에서-20위-구하기" class="headerlink" title="5. 퀴즈 : 최상위 소득자 순으로 10위에서 20위 구하기"></a>5. 퀴즈 : 최상위 소득자 순으로 10위에서 20위 구하기</h2><ul>
<li>EMPLOYEES 테이블과 DEPARTMENTS 테이블을 사용하여 최상위 소득자 순으로 10위에서 20위에 해당하는 사원들의 정보를 출력하는 쿼리를 작성하시오.</li>
<li>퀴즈를 보고 처음 든 생각은 일단 상위 20위까지 구하는 쿼리를 작성하는 것이었다.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1. 범위좁히기</span><br><span class="line">select ROWNUM  as rank, employee_id, last_name, salary, department_id, department_name</span><br><span class="line">from (select e.employee_id, e.last_name, e.salary, e.department_id, d.department_name </span><br><span class="line">	 from departments d join  employees e</span><br><span class="line">	 on (d.department_id &#x3D; e.department_id)</span><br><span class="line">	 ORDER BY  e.salary desc)</span><br><span class="line">where ROWNUM &lt;&#x3D; 20;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;출력값</span><br><span class="line">오류없이 잘 출력됨</span><br></pre></td></tr></table></figure>

<ul>
<li>첫 시도(내코드) : between조건 이용하기.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;2. 첫시도 : between이용하기</span><br><span class="line">select rownum as rank, employee_id, last_name, salary, department_id, department_name</span><br><span class="line">from (select rownum as rank, employee_id, last_name, salary, department_id, department_name</span><br><span class="line">     from departments d join  employees e</span><br><span class="line">	 on (d.department_id &#x3D; e.department_id)</span><br><span class="line">     ORDER BY  e.salary desc)</span><br><span class="line"> where rank between 10 and 20;</span><br><span class="line"> </span><br><span class="line"> &#x2F;&#x2F;출력값</span><br><span class="line"> 오류 : 열의 정의가 애매합니다</span><br></pre></td></tr></table></figure>

<ul>
<li><p>하지만 rownum은 한 행이 조건에 맞는지 확인한 뒤 rownum 순차적으로 붙인다. 따라서 첫번째 rownum이 없다면 그 이후의 결과는 출력되지않는다.</p>
</li>
<li><p>두번째 시도(내코드) : 중첩서브쿼리를 이용하기.<br>위의 rownum특성을 생각하여 먼저 rownum을 포함한 테이블을 만든 뒤 그 테이블의 rownum 10부터 20번까지 가져오고자하였다.</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;3. 두번째 시도 : 중첩서브쿼리이용하기</span><br><span class="line">select rank, employee_id, last_name, salary, department_id, department_name</span><br><span class="line">from (select rownum as rank, employee_id, last_name, salary, department_id, department_name</span><br><span class="line">    from (select e.employee_id, e.last_name, e.salary, e.department_id, d.department_name </span><br><span class="line">                from employees e join  departments d</span><br><span class="line">                on (d.department_id &#x3D; e.department_id)</span><br><span class="line">                ORDER BY  e.salary desc))</span><br><span class="line"> where rank between 10 and 20</span><br><span class="line"> order by rank;</span><br><span class="line"> </span><br><span class="line"> &#x2F;&#x2F;출력값</span><br><span class="line"> 원하는 값이 잘 출력됨.</span><br></pre></td></tr></table></figure>

<ul>
<li>세번째 시도(쿼리 리팩토링) : join을 서브퀴리 끝난뒤 마지막에 해보기.<br>강사님께 내가 작성한 쿼리보다 나은 쿼리가 있는 지 물어보니 join을 서브쿼리끝난뒤에 하면 데이터처리속도가 향상된다고 하셨다.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;강사님 코드</span><br><span class="line">select e.rank, e.employee_id, e.last_name, e.salary, e.department_id, d.department_name</span><br><span class="line">from (select rownum as rank, employee_id, last_name, salary, department_id</span><br><span class="line">          from (select employee_id, last_name, salary, department_id </span><br><span class="line">                    from employees </span><br><span class="line">                    ORDER BY salary desc)) e</span><br><span class="line">join departments d</span><br><span class="line">on (d.department_id &#x3D; e.department_id)</span><br><span class="line">where e.rank between 10 and 20</span><br><span class="line">order by rank;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-19T00:00:00.000Z" title="2020-08-19T00:00:00.000Z">2020-08-19</time><span class="level-item"><a class="link-muted" href="/categories/JSP/">JSP</a></span><span class="level-item">6 minutes read (About 969 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/19/200819jspi3/">[ITWILL : JSP]Servlet쇼핑몰4: 메인페이지와 로그아웃</a></h1><div class="content"><h3 id="ITWILL학원-46강-JSP기초-BY-정규태강사"><a href="#ITWILL학원-46강-JSP기초-BY-정규태강사" class="headerlink" title="ITWILL학원 : 46강 JSP기초 BY 정규태강사"></a>ITWILL학원 : 46강 JSP기초 BY 정규태강사</h3><h2 id="1-main-jsp-생성"><a href="#1-main-jsp-생성" class="headerlink" title="1. main.jsp 생성"></a>1. <code>main.jsp</code> 생성</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span>//<span class="attr">1.</span>한글처리, 파라미터 </span></span><br><span class="line"><span class="tag"><span class="attr">request.setCharacterEncoding</span>("<span class="attr">UTF-8</span>");</span></span><br><span class="line"><span class="tag"><span class="attr">String</span> <span class="attr">id</span> = <span class="string">(String)</span> <span class="attr">session.getAttribute</span>("<span class="attr">id</span>");//<span class="attr">object</span>를 <span class="attr">string</span>으로 다운캐스팅</span></span><br><span class="line"><span class="tag"><span class="attr">String</span> <span class="attr">name</span> = <span class="string">request.getParameter(</span>"<span class="attr">name</span>");</span></span><br><span class="line"><span class="tag">//<span class="attr">1-1.</span> <span class="attr">id</span>없이는 진입불가, <span class="attr">id</span>없는 경우 로그인페이지로 이동<span class="attr">.</span> 가상주소로 이동</span></span><br><span class="line"><span class="tag"><span class="attr">if</span>(<span class="attr">id</span> == <span class="string">null)&#123;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">response.sendRedirect</span>("<span class="attr">.</span>/<span class="attr">MemberLogin.me</span>");</span></span><br><span class="line"><span class="tag">&#125;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>아이디: <span class="tag">&lt;<span class="name">%=id</span> %&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>아이디(session-EL표현식) : $&#123; sessionScope.id &#125; <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"ITWILL게시판가기"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href='../board/boardList.jsp'"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원정보조회"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href=''"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원정보수정"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href=''"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"로그아웃"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href='./MemberLogout.me'"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원탈퇴"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href=''"</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-MemberFrontController-java의-doProcess-메서드-추가-코드작성"><a href="#2-MemberFrontController-java의-doProcess-메서드-추가-코드작성" class="headerlink" title="2. MemberFrontController.java의 doProcess()메서드 추가 코드작성"></a>2. <code>MemberFrontController.java</code>의 doProcess()메서드 추가 코드작성</h2><ul>
<li>main.jsp와 연결 =&gt; 11.메인페이지 연결</li>
<li>MemberLogout.java와 연결 =&gt; 12. 로그아웃연결 :view페이지 필요없고 Action페이지가 필요함</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3. doProcess()생성</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doProcess</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">	System.out.println(<span class="string">"doProcess메서드 호출"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4. 가상주소 가져오기 : 가지고 다닐 주소는 /*.me 앞부분의 주소는 필요가 없다.</span></span><br><span class="line">	String requestURI = req.getRequestURI();</span><br><span class="line">	StringBuffer requestURL = req.getRequestURL();</span><br><span class="line">	String contextPath = req.getContextPath();</span><br><span class="line">	System.out.println(<span class="string">"contextPath: "</span>+contextPath); <span class="comment">///Model2JSP7</span></span><br><span class="line">	String command = requestURI.substring(contextPath.length());</span><br><span class="line">	System.out.println(<span class="string">"잘 짤렸는지 가상주소 command: "</span>+command);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//9-1. 일회성이 아닌 다회용 여러번 쓸수있게 처리</span></span><br><span class="line">	Action action = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6-3.ActionForward 객체사용</span></span><br><span class="line">	ActionForward forward = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//5. 특정 주소에 대한 처리</span></span><br><span class="line">	<span class="keyword">if</span>(command.equals(<span class="string">"/MemberJoin.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"/MemberJoin.me 호출"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//6. 회원가입처리 -&gt; 회원정보 입력창(view의 개념이 필요)</span></span><br><span class="line">		<span class="comment">//모델2에서 페이지 이동은 무조건 ActionForward사용</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//6-4. 특정주소에 대한 처리 후 페이지이동  =&gt;먼저 특정주소에 대한 처리는 ActionForward 객체 사용</span></span><br><span class="line">		<span class="comment">//ActionForward 객체 생성되기 전에는 null (값이 없다)이다가 객체생성후 이동정보가 생긴다</span></span><br><span class="line">		forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		<span class="comment">// 이동할 주소</span></span><br><span class="line">		forward.setPath(<span class="string">"./member/insertForm.jsp"</span>);</span><br><span class="line">		<span class="comment">// 이동할 방법</span></span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//8.MemberJoinAction일때도 주소 출력</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberJoinAction.me"</span>))&#123; <span class="comment">//주소에 `.`붙이면 안됨</span></span><br><span class="line">		System.out.println(<span class="string">"/MemberJoinAction.me 주소 호출"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//9-2.`MemberJoinAction action = new MemberJoinAction()`을 `action = new MemberJoinAction();`으로 변경</span></span><br><span class="line">		action = <span class="keyword">new</span> MemberJoinAction();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : MemberJoinAction 객체생성완료 후 excute()호출완료"</span>);</span><br><span class="line">			forward = action.execute(req, resp);</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : 회원가입 처리완료 후 페이지 이동"</span>+forward);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//10. 로그인페이지연결</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberLogin.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"가상주소: /MemberLogin.me 주소 호출, 실제주소: ./member/loginForm.jsp"</span>);</span><br><span class="line">		forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		forward.setPath(<span class="string">"./member/loginForm.jsp"</span>);</span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			forward =  action.execute(req, resp);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="comment">//10-1. 로그인처리</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberLoginAction.me"</span>))&#123;</span><br><span class="line">		<span class="comment">//10-2. MemberLoginAction.java 생성</span></span><br><span class="line">		action = <span class="keyword">new</span> MemberLoginAction();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : MembeLoginAction 객체생성완료 후 excute()호출완료"</span>);</span><br><span class="line">			forward = action.execute(req, resp);</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : 로그인 처리완료 후 페이지 이동"</span>+forward);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//11.메인페이지 연결</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/Main.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Controller : 가상주소: /Main.me 실제주소:./member/main.jsp"</span>);</span><br><span class="line">		forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		forward.setPath(<span class="string">"./member/main.jsp"</span>);</span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			forward =  action.execute(req, resp);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//12. 로그아웃연결 -&gt;view가 필요없고 Action페이지가 필요함</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberLogout.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Controller : 가상주소 /MemberLogout.me 실제주소: ./member/MemberLogoutAction.java"</span>);</span><br><span class="line">		action = <span class="keyword">new</span> MemberLogoutAction();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			forward =  action.execute(req, resp);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//7.페이지이동 : 두가지방식</span></span><br><span class="line">	<span class="keyword">if</span>(forward != <span class="keyword">null</span>)&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@페이지이동@@@"</span>);</span><br><span class="line">		<span class="keyword">if</span>(forward.isRedirect())&#123;<span class="comment">//1 - response.sendRedirect(주소)사용</span></span><br><span class="line">			<span class="comment">//정보는 ActionForward객체 안에 있다</span></span><br><span class="line">			System.out.println(<span class="string">"sendRedirect방식의 이동"</span>+forward.getPath());</span><br><span class="line">			resp.sendRedirect(forward.getPath());</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123; <span class="comment">//0 - forward사용</span></span><br><span class="line">			System.out.println(<span class="string">"RequestDispatcher방식의 이동"</span>+forward.getPath());</span><br><span class="line">			RequestDispatcher dis = req.getRequestDispatcher(forward.getPath());</span><br><span class="line">			dis.forward(req, resp);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="comment">//end of doProcess</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="3-MemberLogoutAction-java-생성"><a href="#3-MemberLogoutAction-java-생성" class="headerlink" title="3. MemberLogoutAction.java 생성"></a>3. <code>MemberLogoutAction.java</code> 생성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberLogoutAction</span> <span class="keyword">implements</span> <span class="title">Action</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ActionForward <span class="title">execute</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action: MemberLogoutAction안의 execute() 실행됨"</span>);</span><br><span class="line">		<span class="comment">//1. 한글처리</span></span><br><span class="line">		req.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">		<span class="comment">//2.세션초기화</span></span><br><span class="line">		HttpSession session = req.getSession(); </span><br><span class="line">		session.invalidate();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3. 메인페이지이동 : 결과에 따른 페이지이동처리,  무조건 Controller로 이동</span></span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action : 로그아웃성공 후 페이지이동 "</span>);		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//자바스크립트사용하여 alert()창띄우기</span></span><br><span class="line">		resp.setContentType(<span class="string">"text/html; charset=UTF-8"</span>);</span><br><span class="line">		PrintWriter out = resp.getWriter();</span><br><span class="line">		out.print(<span class="string">"&lt;script&gt;"</span>);</span><br><span class="line">		out.print(<span class="string">"alert('정상적으로 로그아웃 되었습니다');"</span>);</span><br><span class="line">		out.print(<span class="string">"location.href='./Main.me';"</span>);</span><br><span class="line">		out.print(<span class="string">"&lt;/script&gt;"</span>);</span><br><span class="line">		<span class="comment">//자원해제</span></span><br><span class="line">		out.close();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-19T00:00:00.000Z" title="2020-08-19T00:00:00.000Z">2020-08-19</time><span class="level-item"><a class="link-muted" href="/categories/JSP/">JSP</a></span><span class="level-item">11 minutes read (About 1583 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/19/200819jspi2/">[ITWILL : JSP]Servlet쇼핑몰3: 로그인</a></h1><div class="content"><h3 id="ITWILL학원-45강-JSP기초-BY-정규태강사"><a href="#ITWILL학원-45강-JSP기초-BY-정규태강사" class="headerlink" title="ITWILL학원 : 45강 JSP기초 BY 정규태강사"></a>ITWILL학원 : 45강 JSP기초 BY 정규태강사</h3><h2 id="1-loginForm-jsp-생성"><a href="#1-loginForm-jsp-생성" class="headerlink" title="1. loginForm.jsp 생성"></a>1. <code>loginForm.jsp</code> 생성</h2><ul>
<li>모든 페이지이동은 가상주소를 이용하여 이동 =&gt; 이것이 모델2방식</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- .me가 가상경로이기때문에 ../style.css가 아닌 ./style.css(./의 의미는 루트)가 되어야한다  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"./style.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">legend</span>&gt;</span>로그인<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"./MemberLoginAction.me"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">name</span>=<span class="string">"fr"</span>&gt;</span></span><br><span class="line">		아이디 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">required</span> &gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		비밀번호 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pw"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"로그인하기"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원가입하기"</span> <span class="attr">onclick</span>=<span class="string">"location.href='./MemberJoin.me'"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-MemberFrontController-java의-doProcess-메서드-추가-코드작성"><a href="#2-MemberFrontController-java의-doProcess-메서드-추가-코드작성" class="headerlink" title="2. MemberFrontController.java의 doProcess()메서드 추가 코드작성"></a>2. <code>MemberFrontController.java</code>의 doProcess()메서드 추가 코드작성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doProcess</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">	System.out.println(<span class="string">"doProcess메서드 호출"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4. 가상주소 가져오기 : 가지고 다닐 주소는 /*.me 앞부분의 주소는 필요가 없다.</span></span><br><span class="line">	String requestURI = req.getRequestURI();</span><br><span class="line">	StringBuffer requestURL = req.getRequestURL();</span><br><span class="line">	<span class="comment">//uri와 url차이 -&gt; uri에서 내 프로젝트명을 뺀 /*.me만 들고다니면됨</span></span><br><span class="line">	System.out.println(<span class="string">"리퀘스트uri: "</span>+requestURI); <span class="comment">///Model2JSP7/*.me</span></span><br><span class="line">	System.out.println(<span class="string">"리퀘스트url: "</span>+requestURL); <span class="comment">//http://localhost:8088/Model2JSP7/*.me</span></span><br><span class="line">	<span class="comment">//contextPath는 프로젝트명을 호출함</span></span><br><span class="line">	String contextPath = req.getContextPath();</span><br><span class="line">	System.out.println(<span class="string">"contextPath: "</span>+contextPath); <span class="comment">///Model2JSP7</span></span><br><span class="line">	<span class="comment">//가상주소 command : 필요한 주소인 /*.me만 가져다니기 위해 substring()사용</span></span><br><span class="line">	String command = requestURI.substring(contextPath.length());</span><br><span class="line">	System.out.println(<span class="string">"잘 짤렸는지 가상주소 command: "</span>+command);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//9-1. 일회성이 아닌 다회용 여러번 쓸수있게 처리</span></span><br><span class="line">	Action action = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6-3.ActionForward 객체사용</span></span><br><span class="line">	ActionForward forward = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//5. 특정 주소에 대한 처리</span></span><br><span class="line">	<span class="keyword">if</span>(command.equals(<span class="string">"/MemberJoin.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"/MemberJoin.me 호출"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//6. 회원가입처리 -&gt; 회원정보 입력창(view의 개념이 필요)</span></span><br><span class="line">		<span class="comment">//모델2에서 페이지 이동은 무조건 ActionForward사용</span></span><br><span class="line">		<span class="comment">/*//6-1.페이지이동방법은 2가지 중 첫번째 : response</span></span><br><span class="line"><span class="comment">		resp.sendRedirect("./member/insertForm.jsp");</span></span><br><span class="line"><span class="comment">		//6-2.페이지이동방법은 2가지 중 두번째 : forward</span></span><br><span class="line"><span class="comment">		RequestDispatcher dis = req.getRequestDispatcher("./member/insertForm.jsp");</span></span><br><span class="line"><span class="comment">		dis.forward(req, resp);*/</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//6-4. 특정주소에 대한 처리 후 페이지이동  =&gt;먼저 특정주소에 대한 처리는 ActionForward 객체 사용</span></span><br><span class="line">		<span class="comment">//ActionForward 객체 생성되기 전에는 null (값이 없다)이다가 객체생성후 이동정보가 생긴다</span></span><br><span class="line">		forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		<span class="comment">// 이동할 주소</span></span><br><span class="line">		forward.setPath(<span class="string">"./member/insertForm.jsp"</span>);</span><br><span class="line">		<span class="comment">// 이동할 방법</span></span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//8.MemberJoinAction일때도 주소 출력</span></span><br><span class="line">	<span class="comment">//8-1.Action페이지는 모델1의 pro페이지 역할을 한다. </span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberJoinAction.me"</span>))&#123; <span class="comment">//주소에 `.`붙이면 안됨</span></span><br><span class="line">		System.out.println(<span class="string">"/MemberJoinAction.me 주소 호출"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//8-2.전달되는 정보를  Action.java 인터페이스에 저장 --Acttion.java인터페이스와 MemberJoinAction.java생성--&gt; DB로 전달</span></span><br><span class="line">		<span class="comment">//Action페이지를 통해서 처리 =&gt; MemberJoinAction 객체를 생성 후 execute메서드 호출</span></span><br><span class="line">		<span class="comment">//MemberJoinAction action = new MemberJoinAction(); //데이터 업캐스팅(Action &lt;- MemberJoinAction)해서 저장</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//9-2.`MemberJoinAction action = new MemberJoinAction()`을 `action = new MemberJoinAction();`으로 변경</span></span><br><span class="line">		action = <span class="keyword">new</span> MemberJoinAction();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : MemberJoinAction 객체생성완료 후 excute()호출완료"</span>);</span><br><span class="line">			forward = action.execute(req, resp);</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : 회원가입 처리완료 후 페이지 이동"</span>+forward);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//10. 로그인페이지연결</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberLogin.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"가상주소: /MemberLogin.me 주소 호출, 실제주소: ./member/loginForm.jsp"</span>);</span><br><span class="line">		forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		forward.setPath(<span class="string">"./member/loginForm.jsp"</span>);</span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			forward =  action.execute(req, resp);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="comment">//10-1. 로그인처리</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberLoginAction.me"</span>))&#123;</span><br><span class="line">		<span class="comment">//10-2. MemberLoginAction.java 생성</span></span><br><span class="line">		action = <span class="keyword">new</span> MemberLoginAction();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : MembeLoginAction 객체생성완료 후 excute()호출완료"</span>);</span><br><span class="line">			forward = action.execute(req, resp);</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : 로그인 처리완료 후 페이지 이동"</span>+forward);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//7.페이지이동 : 두가지방식</span></span><br><span class="line">	<span class="comment">//이동정보가 있을때 (ActionForward객체가 생성되었을때) 페이지이동이 실행되어야한다</span></span><br><span class="line">	<span class="comment">//7-1.response =&gt; true일때 이동</span></span><br><span class="line">	<span class="comment">//7-2.forward =&gt; false일때 이동</span></span><br><span class="line">	<span class="keyword">if</span>(forward != <span class="keyword">null</span>)&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@페이지이동@@@"</span>);</span><br><span class="line">		<span class="keyword">if</span>(forward.isRedirect())&#123;<span class="comment">//1 - response.sendRedirect(주소)사용</span></span><br><span class="line">			<span class="comment">//정보는 ActionForward객체 안에 있다</span></span><br><span class="line">			System.out.println(<span class="string">"sendRedirect방식의 이동"</span>+forward.getPath());</span><br><span class="line">			resp.sendRedirect(forward.getPath());</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123; <span class="comment">//0 - forward사용</span></span><br><span class="line">			System.out.println(<span class="string">"RequestDispatcher방식의 이동"</span>+forward.getPath());</span><br><span class="line">			RequestDispatcher dis = req.getRequestDispatcher(forward.getPath());</span><br><span class="line">			dis.forward(req, resp);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="comment">//end of doProcess</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="3-MemberLoginAction-java-객체-생성"><a href="#3-MemberLoginAction-java-객체-생성" class="headerlink" title="3. MemberLoginAction.java 객체 생성"></a>3. <code>MemberLoginAction.java</code> 객체 생성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberLoginAction</span> <span class="keyword">implements</span> <span class="title">Action</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ActionForward <span class="title">execute</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action: MembeLoginAction안의 execute() 실행됨"</span>);</span><br><span class="line">		<span class="comment">//1. 한글처리</span></span><br><span class="line">		req.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">		<span class="comment">//2.전달되는 파라미터 정보저장 -&gt;MemberLoginAction객체생성</span></span><br><span class="line">		String id = req.getParameter(<span class="string">"id"</span>);</span><br><span class="line">		String pw = req.getParameter(<span class="string">"pw"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3. DB객체처리</span></span><br><span class="line">		MemberDAO mdao = <span class="keyword">new</span> MemberDAO();</span><br><span class="line">		<span class="keyword">int</span> check = mdao.idCheack(id, pw);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4. 페이지이동 : 결과에 따른 페이지이동처리,  무조건 Controller로 이동</span></span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action : 페이지이동 "</span>+check);		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4-2.로그인 비번오류</span></span><br><span class="line">		<span class="keyword">if</span>(check == <span class="number">0</span>)&#123; <span class="comment">//로그인 비번오류</span></span><br><span class="line">			<span class="comment">//자바스크립트사용하여 alert()창띄우기</span></span><br><span class="line">			resp.setContentType(<span class="string">"text/html; charset=UTF-8"</span>);</span><br><span class="line">			PrintWriter out = resp.getWriter();</span><br><span class="line">			out.print(<span class="string">"&lt;script&gt;"</span>);</span><br><span class="line">			out.print(<span class="string">"alert('비밀번호오류');"</span>);</span><br><span class="line">			out.print(<span class="string">"history.back();"</span>);</span><br><span class="line">			out.print(<span class="string">"&lt;/script&gt;"</span>);</span><br><span class="line">			<span class="comment">//자원해제</span></span><br><span class="line">			out.close();</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>; <span class="comment">//null이란 Controller에서 페이지 이동하지않겠다는  의미</span></span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(check == -<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="comment">//자바스크립트사용하여 alert()창띄우기</span></span><br><span class="line">			resp.setContentType(<span class="string">"text/html; charset=UTF-8"</span>);</span><br><span class="line">			PrintWriter out = resp.getWriter();</span><br><span class="line">			out.print(<span class="string">"&lt;script&gt;"</span>);</span><br><span class="line">			out.print(<span class="string">"alert('존재하지 않는 아이디입니다');"</span>);</span><br><span class="line">			out.print(<span class="string">"history.back();"</span>);</span><br><span class="line">			out.print(<span class="string">"&lt;/script&gt;"</span>);</span><br><span class="line">			<span class="comment">//자원해제</span></span><br><span class="line">			out.close();</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">null</span>; <span class="comment">//null이란 Controller에서 페이지 이동하지않겠다는  의미			</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4-1. 정상 로그인처리</span></span><br><span class="line">		<span class="keyword">if</span> (check == <span class="number">1</span>)&#123; <span class="comment">//정상 로그인처리</span></span><br><span class="line">			<span class="comment">//아이디값 세션객체에 저장</span></span><br><span class="line">			<span class="comment">//jsp페이지가 아닌 java페이지기때문에 java에는 session내장객체가 없다.</span></span><br><span class="line">			<span class="comment">//session.setAttribute("id", id); 한줄로는 실행이 안되니까 HttpSession session = req.getSession(); 추가해준다</span></span><br><span class="line">			HttpSession session = req.getSession(); </span><br><span class="line">			session.setAttribute(<span class="string">"id"</span>, id);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//페이지이동객체생성</span></span><br><span class="line">		ActionForward forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		forward.setPath(<span class="string">"./Main.me"</span>);</span><br><span class="line">		forward.setRedirect(<span class="keyword">true</span>);			</span><br><span class="line">		<span class="keyword">return</span> forward;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="4-MemberDAO-java의-idCheck-메서드-추가-코드-작성"><a href="#4-MemberDAO-java의-idCheck-메서드-추가-코드-작성" class="headerlink" title="4. MemberDAO.java의 idCheck()메서드 추가 코드 작성"></a>4. <code>MemberDAO.java</code>의 idCheck()메서드 추가 코드 작성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4. 로그인메서드</span></span><br><span class="line"><span class="comment">// DB에서 해당 값이 있는지 체크하고 결과를 리턴</span></span><br><span class="line"><span class="comment">// 정수형 데이터값 사용(1-정상처리, 0-비번오류, (-1)-아이디가없음)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">idCheack</span><span class="params">(String id, String pw)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> result = -<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="comment">//4-1. 드라이브로드 디비연결</span></span><br><span class="line">		con = getCon();</span><br><span class="line">		<span class="comment">//4-2. SQL &amp; pstmt 생성</span></span><br><span class="line">		sql = <span class="string">"select pw from itwill_member where id=?"</span>;</span><br><span class="line">		pstmt = con.prepareStatement(sql);</span><br><span class="line">		pstmt.setString(<span class="number">1</span>, id);</span><br><span class="line">		<span class="comment">//4-3. 실행 -&gt; rs저장</span></span><br><span class="line">		rs = pstmt.executeQuery();</span><br><span class="line">		<span class="comment">//4-4. 데이터 처리</span></span><br><span class="line">		<span class="comment">//왜 while이 아닌 if인가? where절에서 id는 pk조건을 가지고 있으므로 중복이 없기때문 </span></span><br><span class="line">		<span class="keyword">if</span>(rs.next())&#123;</span><br><span class="line">			<span class="keyword">if</span>(pw.equals(rs.getString(<span class="string">"pw"</span>)))&#123;</span><br><span class="line">				result = <span class="number">1</span>;</span><br><span class="line">				<span class="comment">//4-5. 세션정보를 만들 수 있을까? 만들 수 없다.</span></span><br><span class="line">				<span class="comment">//session.setAttribute();</span></span><br><span class="line">				<span class="comment">//why? session은 jsp내장객체이다.</span></span><br><span class="line">				<span class="comment">// 따라서 java에서 사용할 수 없지만 추후 서블릿을 통해 사용할 수 있다.</span></span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				result = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			result = -<span class="number">1</span>;</span><br><span class="line">		&#125;	</span><br><span class="line">		System.out.println(<span class="string">"@@@@ DAO : 로그인처리완료 "</span>+result);</span><br><span class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125; <span class="keyword">finally</span> &#123; <span class="comment">//4-6. 자원해제</span></span><br><span class="line">		closeDB();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;<span class="comment">//idCheck닫힘</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="5-index-jsp코드-수정"><a href="#5-index-jsp코드-수정" class="headerlink" title="5. index.jsp코드 수정"></a>5. <code>index.jsp</code>코드 수정</h2><p>프로젝트 시작페이지를 login페이지로 변경</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">//프로젝트의 시작페이지</span></span><br><span class="line"><span class="tag"><span class="attr">response.sendRedirect</span>("<span class="attr">.</span>/<span class="attr">MemberLogin.me</span>");</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-19T00:00:00.000Z" title="2020-08-19T00:00:00.000Z">2020-08-19</time><span class="level-item"><a class="link-muted" href="/categories/JSP/">JSP</a></span><span class="level-item">16 minutes read (About 2331 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/19/200819jspi/">[ITWILL : JSP]Servlet쇼핑몰2: 회원가입</a></h1><div class="content"><h3 id="ITWILL학원-45강-JSP기초-BY-정규태강사"><a href="#ITWILL학원-45강-JSP기초-BY-정규태강사" class="headerlink" title="ITWILL학원 : 45강 JSP기초 BY 정규태강사"></a>ITWILL학원 : 45강 JSP기초 BY 정규태강사</h3><h2 id="1-MemberFrontController-java의-doProcess-메서드-추가-코드작성"><a href="#1-MemberFrontController-java의-doProcess-메서드-추가-코드작성" class="headerlink" title="1. MemberFrontController.java의 doProcess()메서드 추가 코드작성"></a>1. <code>MemberFrontController.java</code>의 doProcess()메서드 추가 코드작성</h2><ul>
<li>6번부터</li>
<li>회원가입처리 -&gt; 회원정보 입력창(view의 개념이 필요)</li>
<li>모델2에서 페이지 이동은 무조건 ActionForward사용</li>
<li>페이지이동방법은 2가지<ol>
<li>response : <code>response.sendRedirect(&quot;./member/insertForm.jsp&quot;)</code> =&gt; 웹주소가 <code>.jsp</code>끝나기때문에 우리가 원하는 모델2방식이 아니다.</li>
<li>forward : RequestDispatcher사용 =&gt; 웹주소가 <code>.me</code>로 끝나기때문에 우리가 원하는 방식이지만 코드길이가 너무 길어진다. =&gt; ActionForward객체를 사용하면 편하다<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RequestDispatcher dis &#x3D; request.getRequestDispatcher(&quot;.&#x2F;member&#x2F;insertForm.jsp&quot;);</span><br><span class="line">dis.forward(request, response);</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>ActionForward객체로 특정주소에 대한 처리 후 response나 forward방식으로 페이지이동.</li>
<li>모델2에서 페이지 이동은 무조건 ActionForward사용.</li>
<li><code>MemberJoinAction.java</code>일때도 <code>.me</code>주소 출력</li>
<li><code>MemberJoinAction action = new MemberJoinAction()</code>을 <code>action = new MemberJoinAction();</code>으로 변경하여 일회성이 아닌 여러번 사용가능하도록 만들기.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3. doProcess()생성</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doProcess</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">	System.out.println(<span class="string">"doProcess메서드 호출"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4. 가상주소 가져오기 : 가지고 다닐 주소는 /*.me 앞부분의 주소는 필요가 없다.</span></span><br><span class="line">	String requestURI = req.getRequestURI();</span><br><span class="line">	StringBuffer requestURL = req.getRequestURL();</span><br><span class="line">	<span class="comment">//uri와 url차이 -&gt; uri에서 내 프로젝트명을 뺀 /*.me만 들고다니면됨</span></span><br><span class="line">	System.out.println(<span class="string">"리퀘스트uri: "</span>+requestURI); <span class="comment">///Model2JSP7/*.me</span></span><br><span class="line">	System.out.println(<span class="string">"리퀘스트url: "</span>+requestURL); <span class="comment">//http://localhost:8088/Model2JSP7/*.me</span></span><br><span class="line">	<span class="comment">//contextPath는 프로젝트명을 호출함</span></span><br><span class="line">	String contextPath = req.getContextPath();</span><br><span class="line">	System.out.println(<span class="string">"contextPath: "</span>+contextPath); <span class="comment">///Model2JSP7</span></span><br><span class="line">	<span class="comment">//가상주소 command : 필요한 주소인 /*.me만 가져다니기 위해 substring()사용</span></span><br><span class="line">	String command = requestURI.substring(contextPath.length());</span><br><span class="line">	System.out.println(<span class="string">"잘 짤렸는지 가상주소 command: "</span>+command);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//9-1. 일회성이 아닌 다회용 여러번 쓸수있게 처리</span></span><br><span class="line">	Action action = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6-3.ActionForward 객체사용</span></span><br><span class="line">	ActionForward forward = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//5. 특정 주소에 대한 처리</span></span><br><span class="line">	<span class="keyword">if</span>(command.equals(<span class="string">"/MemberJoin.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"/MemberJoin.me 호출"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//6. 회원가입처리 -&gt; 회원정보 입력창(view의 개념이 필요)</span></span><br><span class="line">		<span class="comment">//모델2에서 페이지 이동은 무조건 ActionForward사용</span></span><br><span class="line">		<span class="comment">/*//6-1.페이지이동방법은 2가지 중 첫번째 : response</span></span><br><span class="line"><span class="comment">		resp.sendRedirect("./member/insertForm.jsp");</span></span><br><span class="line"><span class="comment">		//6-2.페이지이동방법은 2가지 중 두번째 : forward</span></span><br><span class="line"><span class="comment">		RequestDispatcher dis = req.getRequestDispatcher("./member/insertForm.jsp");</span></span><br><span class="line"><span class="comment">		dis.forward(req, resp);*/</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//6-4. 특정주소에 대한 처리 후 페이지이동  =&gt;먼저 특정주소에 대한 처리는 ActionForward 객체 사용</span></span><br><span class="line">		<span class="comment">//ActionForward 객체 생성되기 전에는 null (값이 없다)이다가 객체생성후 이동정보가 생긴다</span></span><br><span class="line">		forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		<span class="comment">// 이동할 주소</span></span><br><span class="line">		forward.setPath(<span class="string">"./member/insertForm.jsp"</span>);</span><br><span class="line">		<span class="comment">// 이동할 방법</span></span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//8.MemberJoinAction일때도 주소 출력</span></span><br><span class="line">	<span class="comment">//8-1.Action페이지는 모델1의 pro페이지 역할을 한다. </span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberJoinAction.me"</span>))&#123; <span class="comment">//주소에 `.`붙이면 안됨</span></span><br><span class="line">		System.out.println(<span class="string">"/MemberJoinAction.me  주소 호출"</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//8-2.전달되는 정보를  Action.java 인터페이스에 저장 --Acttion.java인터페이스와 MemberJoinAction.java생성--&gt; DB로 전달</span></span><br><span class="line">		<span class="comment">//Action페이지를 통해서 처리 =&gt; MemberJoinAction 객체를 생성 후 execute메서드 호출</span></span><br><span class="line">		<span class="comment">//MemberJoinAction action = new MemberJoinAction(); //데이터 업캐스팅(Action &lt;- MemberJoinAction)해서 저장</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//9-2.`MemberJoinAction action = new MemberJoinAction()`을 `action = new MemberJoinAction();`으로 변경</span></span><br><span class="line">		action = <span class="keyword">new</span> MemberJoinAction();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : MemberJoinAction 객체생성완료 후 excute()호출완료"</span>);</span><br><span class="line">			forward = action.execute(req, resp);</span><br><span class="line">			System.out.println(<span class="string">"@@@@ Controller : 처리완료 후 페이지 이동"</span>+forward);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//7.페이지이동 : 두가지방식</span></span><br><span class="line">	<span class="comment">//이동정보가 있을때 (ActionForward객체가 생성되었을때) 페이지이동이 실행되어야한다</span></span><br><span class="line">	<span class="comment">//7-1.response =&gt; true일때 이동</span></span><br><span class="line">	<span class="comment">//7-2.forward =&gt; false일때 이동</span></span><br><span class="line">	<span class="keyword">if</span>(forward != <span class="keyword">null</span>)&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@페이지이동@@@"</span>);</span><br><span class="line">		<span class="keyword">if</span>(forward.isRedirect())&#123;<span class="comment">//1 - response.sendRedirect(주소)사용</span></span><br><span class="line">			<span class="comment">//정보는 ActionForward객체 안에 있다</span></span><br><span class="line">			System.out.println(<span class="string">"sendRedirect방식의 이동"</span>+forward.getPath());</span><br><span class="line">			resp.sendRedirect(forward.getPath());</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123; <span class="comment">//0 - forward사용</span></span><br><span class="line">			System.out.println(<span class="string">"RequestDispatcher방식의 이동"</span>+forward.getPath());</span><br><span class="line">			RequestDispatcher dis = req.getRequestDispatcher(forward.getPath());</span><br><span class="line">			dis.forward(req, resp);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="comment">//end of doProcess</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-DB-테이블-생성"><a href="#2-DB-테이블-생성" class="headerlink" title="2. DB 테이블 생성"></a>2. DB 테이블 생성</h2><ul>
<li>회원정보시 필요한 데이터를 입력받은 DB 테이블을 생성한다</li>
</ul>
<p><br><br><br></p>
<h2 id="3-insertForm-jsp-생성"><a href="#3-insertForm-jsp-생성" class="headerlink" title="3. insertForm.jsp 생성"></a>3. <code>insertForm.jsp</code> 생성</h2><ul>
<li>DB테이블을 기준으로 입력받은 폼을 작성한다.</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- .me가 가상경로이기때문에 ../style.css가 아닌 ./style.css(./의 의미는 루트)가 되어야한다  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"./style.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">//<span class="attr">1.</span> <span class="attr">DB</span>생성 <span class="attr">-</span> <span class="attr">member</span>테이블 사용</span></span><br><span class="line"><span class="tag">//<span class="attr">2.</span> 데이터 입력받을 화면 작성</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">legend</span>&gt;</span>회원가입<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"./MemberJoinAction.me"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">name</span>=<span class="string">"fr"</span>&gt;</span></span><br><span class="line">		아이디 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">required</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		비밀번호 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pw"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		이름 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		나이 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		성별 </span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"여"</span>&gt;</span> 여성</span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"남"</span>&gt;</span> 남성<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		이메일 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"회원가입하기"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="4-인터페이스-Action-java-생성"><a href="#4-인터페이스-Action-java-생성" class="headerlink" title="4. 인터페이스 Action.java 생성"></a>4. 인터페이스 <code>Action.java</code> 생성</h2><ul>
<li><a href="https://ko.wikipedia.org/wiki/SOLID_(%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%EC%84%A4%EA%B3%84">왜 Interface를 사용해야할까? SOLID 객체지향 설계</a></li>
<li>추상메서드는 서브클래스들한테 강제성을 부여 =&gt; 틀이 정해짐 =&gt; 개발 형식의 통일.<ul>
<li>강제성 : implement를 하려면 내가 가지고 있는 추상메서드를 오버라이딩해야만 해!</li>
</ul>
</li>
<li>객체간의 관계가 약화됨 =&gt; 각각의 객체가 해당 동작만 처리/제어<ul>
<li>장점 : 오류처리에 용이. 오류나면 전체가 아닌 특정 객체 부분만 바꾸면 됨.</li>
</ul>
</li>
<li>Action 페이지의 동작을 미리 선언해서 사용함.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itwillbs.member.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line">	<span class="comment">//상수, 추상메서드 사용가능</span></span><br><span class="line">	<span class="comment">//1. 추상 메서드 작성</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ActionForward <span class="title">execute</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">	</span><br><span class="line">&#125;<span class="comment">//end of interface</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="5-MemberJoinAction-java생성"><a href="#5-MemberJoinAction-java생성" class="headerlink" title="5. MemberJoinAction.java생성"></a>5. <code>MemberJoinAction.java</code>생성</h2><ul>
<li>Action으로 끝나면 모델1의 pro페이지의 역할을 한다.</li>
<li>접두사 Action 객체는 항상 Action 인터페이스를 구현해서 사용</li>
<li><code>insertForm.jsp</code>에서 회원가입을 클릭했을 때 <code>MemberJoinAction.java</code>로 이동되는 것을 구현.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberJoinAction</span> <span class="keyword">implements</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ActionForward <span class="title">execute</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"MemberJoinAction안의 execute() 실행됨"</span>);</span><br><span class="line">		<span class="comment">//1. 한글처리</span></span><br><span class="line">		req.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2.전달되는 파라미터 정보저장 -&gt;MemberBean 생성</span></span><br><span class="line">		MemberBean mb = <span class="keyword">new</span> MemberBean();</span><br><span class="line">		mb.setAge(Integer.parseInt(req.getParameter(<span class="string">"age"</span>)));</span><br><span class="line">		mb.setEmail(req.getParameter(<span class="string">"email"</span>));</span><br><span class="line">		mb.setGender(req.getParameter(<span class="string">"gender"</span>));</span><br><span class="line">		mb.setId(req.getParameter(<span class="string">"id"</span>));</span><br><span class="line">		mb.setName(req.getParameter(<span class="string">"name"</span>));</span><br><span class="line">		mb.setPw(req.getParameter(<span class="string">"pw"</span>));</span><br><span class="line">		<span class="comment">//시간은 파라미커가 아닌 현재시간으로 객체생성하여 저장</span></span><br><span class="line">		mb.setReg_date(<span class="keyword">new</span> Timestamp(System.currentTimeMillis()));</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action : 전달받은 정보 MemberBean 객체 확인"</span>+mb);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3. DB객체처리</span></span><br><span class="line">		MemberDAO mdao = <span class="keyword">new</span> MemberDAO();</span><br><span class="line">		mdao.insertMember(mb);</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action : 디비작업처리완료"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4. 페이지이동 : 무조건 Controller로 이동</span></span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action : 페이지이동"</span>);</span><br><span class="line">		ActionForward forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		forward.setPath(<span class="string">"./MemberLogin.me"</span>);</span><br><span class="line">		forward.setRedirect(<span class="keyword">true</span>);</span><br><span class="line">		<span class="keyword">return</span> forward;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="6-MemberBean-java-생성"><a href="#6-MemberBean-java-생성" class="headerlink" title="6. MemberBean.java 생성"></a>6. <code>MemberBean.java</code> 생성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberBean</span> </span>&#123;</span><br><span class="line">	<span class="comment">//자바빈 -&gt; 회원정보를 저장해서 이동시키기 위한 객체</span></span><br><span class="line">	<span class="comment">//DTO(데이터 전송 객체)로도 불린다.</span></span><br><span class="line">		</span><br><span class="line">	<span class="comment">//1. DB의 테이블의 컬럼을 자바빈의 멤버 변수로 생성</span></span><br><span class="line">	<span class="keyword">private</span> String id;</span><br><span class="line">	<span class="keyword">private</span> String pw;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> String gender;</span><br><span class="line">	<span class="keyword">private</span> String email;</span><br><span class="line">	<span class="keyword">private</span> Timestamp reg_date; <span class="comment">//import필수</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2. getter 와 setter생성</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getPw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> pw;</span><br><span class="line">	(중략)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//3. toString생성</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"멤버 [id="</span> + id + <span class="string">", pw="</span> + pw + <span class="string">", name="</span> + name + <span class="string">", age="</span> + age + <span class="string">", gender="</span> + gender + <span class="string">", email="</span></span><br><span class="line">				+ email + <span class="string">", reg_date="</span> + reg_date + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="7-라이브러리-8개-추가"><a href="#7-라이브러리-8개-추가" class="headerlink" title="7. 라이브러리 8개 추가"></a>7. 라이브러리 8개 추가</h2><ul>
<li><code>WEB-INF</code>폴더안에 <code>lib</code>폴더안에 8개 라이브러리 추가</li>
</ul>
<ol>
<li>commons-collections4-4.4.jar</li>
<li>commons-dbcp2-2.7.0.jar</li>
<li>commons-pool2-2.8.0.jar</li>
<li>cos.jar</li>
<li>mysql-connector-java-5.1.49-bin.jar</li>
<li>taglibs-standard-impl-1.2.5.jar</li>
<li>taglibs-standard-jstlel-1.2.5.jar</li>
<li>taglibs-standard-spec-1.2.5.jar</li>
</ol>
<p><br><br><br></p>
<h2 id="8-META-INF폴더안의-Context-xml-추가"><a href="#8-META-INF폴더안의-Context-xml-추가" class="headerlink" title="8. META-INF폴더안의 Context.xml 추가"></a>8. <code>META-INF</code>폴더안의 <code>Context.xml</code> 추가</h2><ul>
<li>새로운 프로젝트나 추가 프로젝트를 진행하면 name, url, username, password 변경해줘야함</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 디비연결에 필요한 정보 저장 --&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        속성 </span></span><br><span class="line"><span class="comment">        name : 외부에서 해당 정보에 접근할수있도록하는 이름값(변경가능)</span></span><br><span class="line"><span class="comment">        auth : 자원관리자를 지정(Container/Application)</span></span><br><span class="line"><span class="comment">        type : 웹에서 사용될때(name으로 호출) 표시되는 객체 타입</span></span><br><span class="line"><span class="comment">        driverClassName : JDBC 드라이버 주소(mysql) (변경가능)</span></span><br><span class="line"><span class="comment">            ORACLE : oracle.jdbc.driver.OracleDriver</span></span><br><span class="line"><span class="comment">        url : 디비가 존제하는 위치 (디비서버의 주소)  (변경가능) </span></span><br><span class="line"><span class="comment">            ORACLE : jdbc:oracle:thin:@localhost:1521:orcl</span></span><br><span class="line"><span class="comment">        username/password : 디비 접속 계정</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        maxWait : 커넥션풀에 사용가능한 커넥션이 없을경우 커넥션의 회수를 기다리는 시간지정</span></span><br><span class="line"><span class="comment">                 ( 1 / 1000 초  사용)      </span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">   </span><br><span class="line">   <span class="tag">&lt;<span class="name">Context</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">Resource</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">"jdbc/model2DB"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">auth</span>=<span class="string">"Container"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"javax.sql.DataSource"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">driverClassName</span>=<span class="string">"com.mysql.jdbc.Driver"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">url</span>=<span class="string">"jdbc:mysql://localhost:3306/jspdb"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">username</span>=<span class="string">"root"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">password</span>=<span class="string">"1234"</span>     </span></span><br><span class="line"><span class="tag">     /&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="9-MemberDAO-java-생성"><a href="#9-MemberDAO-java-생성" class="headerlink" title="9. MemberDAO.java 생성"></a>9. <code>MemberDAO.java</code> 생성</h2><ul>
<li>DB연결 메서드 구현</li>
<li>자원해제 메서드 구현</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberDAO</span> </span>&#123;</span><br><span class="line">	Connection con =<span class="keyword">null</span>;</span><br><span class="line">	PreparedStatement pstmt = <span class="keyword">null</span>;</span><br><span class="line">	ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">	String sql = <span class="string">""</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//1. DB연결메서드</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Connection <span class="title">getCon</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		Context init= <span class="keyword">new</span> InitialContext();</span><br><span class="line">		DataSource ds = (DataSource) init.lookup(<span class="string">"java:comp/env/jdbc/model2DB"</span>); <span class="comment">//Context.xml의 주소와 동일해야함</span></span><br><span class="line">		con = ds.getConnection();</span><br><span class="line">		<span class="keyword">return</span> con;</span><br><span class="line">	&#125;<span class="comment">//end of getCon()</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//2. 자원해제 메서드 구현</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">closeDB</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(rs != <span class="keyword">null</span>) rs.close();</span><br><span class="line">			<span class="keyword">if</span>(pstmt != <span class="keyword">null</span>) pstmt.close();</span><br><span class="line">			<span class="keyword">if</span>(con != <span class="keyword">null</span>) con.close();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;<span class="comment">//closeDB()</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//3. 회원가입처리 (외부에서 접근가능해야하니까 public)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertMember</span><span class="params">(MemberBean mb)</span></span>&#123; <span class="comment">//파라미터로 정보를 받아서 DB에 저장</span></span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">//3-1. DB연결메서드 불러오기</span></span><br><span class="line">			con = getCon();</span><br><span class="line">			<span class="comment">//3-2. SQL &amp; pstmt 생성 &amp; 실행</span></span><br><span class="line">			sql = <span class="string">"insert into itwill_member value(?,?,?,?,?,?,?)"</span>;</span><br><span class="line">			pstmt = con.prepareStatement(sql);</span><br><span class="line">			pstmt.setString(<span class="number">1</span>, mb.getId());</span><br><span class="line">			pstmt.setString(<span class="number">2</span>, mb.getPw());</span><br><span class="line">			pstmt.setString(<span class="number">3</span>, mb.getName());</span><br><span class="line">			pstmt.setInt(<span class="number">4</span>, mb.getAge());</span><br><span class="line">			pstmt.setString(<span class="number">5</span>, mb.getGender());</span><br><span class="line">			pstmt.setString(<span class="number">6</span>, mb.getEmail());</span><br><span class="line">			pstmt.setTimestamp(<span class="number">7</span>, mb.getReg_date());</span><br><span class="line">			<span class="comment">//insertForm에는 reg_date를 입력하는 란이 없기에 mb에 따로 넣어줘야한다.</span></span><br><span class="line">			<span class="comment">//즉, 파라미터로 전달되지 않는 정보는 insertForm에서 직접생성</span></span><br><span class="line">			pstmt.executeUpdate();</span><br><span class="line">			System.out.println(<span class="string">"회원가입성공"</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"sql구문땜시 회원가입실패"</span>);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			System.out.println(<span class="string">"회원가입실패"</span>);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="comment">//자원해제로 DB 효율성을 높일수있다.</span></span><br><span class="line">			closeDB();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="comment">//insertMember닫힘</span></span><br><span class="line">	</span><br><span class="line">&#125;<span class="comment">//end of class</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="10-순서-정리"><a href="#10-순서-정리" class="headerlink" title="10. 순서 정리"></a>10. 순서 정리</h2><ul>
<li>web.xml &gt; index.jsp &gt; 가상주소 MemberJoin.me(실제주소: insertForm.jsp) &gt; 가상주소 MemberLogin.me(실제주소 : )</li>
<li>가상주소 사용을 해주는 동작 : MemberFrontController</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-19T00:00:00.000Z" title="2020-08-19T00:00:00.000Z">2020-08-19</time><span class="level-item"><a class="link-muted" href="/categories/JSP/">JSP</a></span><span class="level-item">7 minutes read (About 1065 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/19/200819jspi4/">[ITWILL : JSP]Servlet쇼핑몰5: 회원정보조회</a></h1><div class="content"><h3 id="ITWILL학원-46강-JSP기초-BY-정규태강사"><a href="#ITWILL학원-46강-JSP기초-BY-정규태강사" class="headerlink" title="ITWILL학원 : 46강 JSP기초 BY 정규태강사"></a>ITWILL학원 : 46강 JSP기초 BY 정규태강사</h3><h2 id="1-main-jsp-생성"><a href="#1-main-jsp-생성" class="headerlink" title="1. main.jsp 생성"></a>1. <code>main.jsp</code> 생성</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span>//<span class="attr">1.</span>한글처리, 파라미터 </span></span><br><span class="line"><span class="tag"><span class="attr">request.setCharacterEncoding</span>("<span class="attr">UTF-8</span>");</span></span><br><span class="line"><span class="tag"><span class="attr">String</span> <span class="attr">id</span> = <span class="string">(String)</span> <span class="attr">session.getAttribute</span>("<span class="attr">id</span>");//<span class="attr">object</span>를 <span class="attr">string</span>으로 다운캐스팅</span></span><br><span class="line"><span class="tag"><span class="attr">String</span> <span class="attr">name</span> = <span class="string">request.getParameter(</span>"<span class="attr">name</span>");</span></span><br><span class="line"><span class="tag">//<span class="attr">1-1.</span> <span class="attr">id</span>없이는 진입불가, <span class="attr">id</span>없는 경우 로그인페이지로 이동<span class="attr">.</span> 가상주소로 이동</span></span><br><span class="line"><span class="tag"><span class="attr">if</span>(<span class="attr">id</span> == <span class="string">null)&#123;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">response.sendRedirect</span>("<span class="attr">.</span>/<span class="attr">MemberLogin.me</span>");</span></span><br><span class="line"><span class="tag">&#125;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>아이디: <span class="tag">&lt;<span class="name">%=id</span> %&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>아이디(session-EL표현식) : $&#123; sessionScope.id &#125; <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"ITWILL게시판가기"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href='../board/boardList.jsp'"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원정보조회"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href='./MemberInfo.me'"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원정보수정"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href=''"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"로그아웃"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href='./MemberLogout.me'"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원탈퇴"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href=''"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 관리자일때만 메뉴확인가능 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">id</span> != <span class="string">null)&#123;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">if</span>(<span class="attr">id.equals</span>("<span class="attr">admin</span>"))&#123; %&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"회원전체목록(관리자용)"</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"location.href=''"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">	&#125;</span></span><br><span class="line"><span class="tag">&#125;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="2-MemberFrontController-java의-doProcess-메서드-추가-코드작성"><a href="#2-MemberFrontController-java의-doProcess-메서드-추가-코드작성" class="headerlink" title="2. MemberFrontController.java의 doProcess()메서드 추가 코드작성"></a>2. <code>MemberFrontController.java</code>의 doProcess()메서드 추가 코드작성</h2><ul>
<li>회원정보조회페이지 가상경로 설정</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">		<span class="comment">//13. 회원정보조회</span></span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(command.equals(<span class="string">"/MemberInfo.me"</span>))&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Controller : 가상주소 /MemberInfo.me 실제주소: ./member/memberInfo.jsp"</span>);</span><br><span class="line">		action = <span class="keyword">new</span> MemberInfoAction();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			forward = action.execute(req, resp);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;			</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//7.페이지이동 : 두가지방식</span></span><br><span class="line">	<span class="keyword">if</span>(forward != <span class="keyword">null</span>)&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@페이지이동@@@"</span>);</span><br><span class="line">		<span class="keyword">if</span>(forward.isRedirect())&#123;<span class="comment">//1 - response.sendRedirect(주소)사용</span></span><br><span class="line">			<span class="comment">//정보는 ActionForward객체 안에 있다</span></span><br><span class="line">			System.out.println(<span class="string">"sendRedirect방식의 이동"</span>+forward.getPath());</span><br><span class="line">			resp.sendRedirect(forward.getPath());</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123; <span class="comment">//0 - forward사용</span></span><br><span class="line">			System.out.println(<span class="string">"RequestDispatcher방식의 이동"</span>+forward.getPath());</span><br><span class="line">			RequestDispatcher dis = req.getRequestDispatcher(forward.getPath());</span><br><span class="line">			dis.forward(req, resp);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;<span class="comment">//end of doProcess</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="3-MemberInfoAction-java-생성"><a href="#3-MemberInfoAction-java-생성" class="headerlink" title="3. MemberInfoAction.java 생성"></a>3. <code>MemberInfoAction.java</code> 생성</h2><ul>
<li>회원정보조회 페이지 생성</li>
<li>우선순위<ol>
<li>DB에서 정보가져오기</li>
<li>DB정보를 가지고 <code>.jsp</code>페이지로 이동</li>
</ol>
</li>
</ul>
<ul>
<li>순서<ol>
<li>세션값을 가져오기        </li>
<li>DAO객체 생성하여 DB정보가져오기 (MemberBean)</li>
<li><code>.java</code> –request객체로 데이터를 전달–&gt; <code>.jsp</code><ul>
<li>session에 담아써도 괜찮지만 데이터가 필요없는 순간에도 session 이 살아있는 한 데이터를 가지고 다녀야할수있다.</li>
<li>따라서  request객체를 사용하는 것이 더 올바르다</li>
</ul>
</li>
</ol>
</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberInfoAction</span> <span class="keyword">implements</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> ActionForward <span class="title">execute</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ Action: MemberInfoAction안의 execute() 실행됨"</span>);</span><br><span class="line">		<span class="comment">//1. 한글처리</span></span><br><span class="line">		req.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">		<span class="comment">//2.세션값을 가져오기</span></span><br><span class="line">		HttpSession session = req.getSession(); </span><br><span class="line">		String id = (String) session.getAttribute(<span class="string">"id"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2-1.id값이 없으면 로그인페이지로 이동</span></span><br><span class="line">		ActionForward forward = <span class="keyword">new</span> ActionForward();</span><br><span class="line">		<span class="keyword">if</span>(id == <span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="comment">//resp.sendRedirect("./MemberLogin.me");</span></span><br><span class="line">			forward.setPath(<span class="string">"./MemberLogin.me"</span>);</span><br><span class="line">			forward.setRedirect(<span class="keyword">true</span>); <span class="comment">//주소가 바뀌니까 false가 아니라 true임</span></span><br><span class="line">			<span class="keyword">return</span> forward; <span class="comment">//아이디가 없으면 retrun을 통해서 아래 코드는 실행되지않는다.</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.DAO객체 생성하여 DB정보가져오기 (MemberBean)</span></span><br><span class="line">		MemberDAO mdao = <span class="keyword">new</span> MemberDAO();</span><br><span class="line">		MemberBean mb = mdao.getMember(id);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4. .java --request객체로 데이터를 전달--&gt; .jsp</span></span><br><span class="line">		<span class="comment">//session에 담아써도 괜찮지만 데이터가 필요없는 순간에도 session 이 살아있는 한 데이터를 가지고 다녀야할수있다.</span></span><br><span class="line">		<span class="comment">//따라서  request객체를 사용하는 것이 더 올바르다</span></span><br><span class="line">		req.setAttribute(<span class="string">"memberBean"</span>, mb);</span><br><span class="line">		forward.setPath(<span class="string">"./member/memberinfo.jsp"</span>);</span><br><span class="line">		forward.setRedirect(<span class="keyword">false</span>);</span><br><span class="line">		<span class="keyword">return</span> forward;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="4-MemberInfo-jsp-생성"><a href="#4-MemberInfo-jsp-생성" class="headerlink" title="4. MemberInfo.jsp 생성"></a>4. <code>MemberInfo.jsp</code> 생성</h2><ul>
<li>jsp표현식을 사용해도되고 EL표현식으로 사용해서 가져와도 됨.</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span>//회원정보를 <span class="attr">DB</span>에서 가져와서 페이지에 출력</span></span><br><span class="line"><span class="tag">//<span class="attr">1.</span> 한글설정 &amp; 변수생성</span></span><br><span class="line"><span class="tag"><span class="attr">String</span> <span class="attr">id</span> = <span class="string">(String)</span> <span class="attr">session.getAttribute</span>("<span class="attr">id</span>");//<span class="attr">object</span>이기에 형변환필수</span></span><br><span class="line"><span class="tag">//<span class="attr">1-1.id</span>값확인 <span class="attr">-</span>없으면 로그인페이지로 이동</span></span><br><span class="line"><span class="tag"><span class="attr">if</span>(<span class="attr">id</span> == <span class="string">null)&#123;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">response.sendRedirect</span>("<span class="attr">.</span>/<span class="attr">MemberLogin.me</span>");</span></span><br><span class="line"><span class="tag">&#125; </span></span><br><span class="line"><span class="tag">//<span class="attr">2.</span> 멤버<span class="attr">DAO</span>객체 생성 <span class="attr">-</span>&gt;</span> 회원정보 가져오는 메서드생성</span><br><span class="line">MemberBean mb = (MemberBean) request.getAttribute("memberBean");</span><br><span class="line">//3. 데이터처리 : 테이블로 표현</span><br><span class="line">if(mb != null)&#123;</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>마이페이지<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>아이디<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;memberBean.id &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>비밀번호<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;memberBean.pw &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>이름<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;memberBean.name &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>나이<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;memberBean.age &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>성별<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;memberBean.gender &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>이메일<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123; requestScope.memberBean.email &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>회원가입일<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;memberBean.reg_date &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> </span></span><br><span class="line"><span class="tag">&#125; </span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"뒤로가기"</span> <span class="attr">onclick</span>=<span class="string">"location.href='./Main.me'"</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p><br><br><br></p>
<h2 id="5-MemberDAO-java의-getMember-메서드-추가-코드-작성"><a href="#5-MemberDAO-java의-getMember-메서드-추가-코드-작성" class="headerlink" title="5. MemberDAO.java의 getMember()메서드 추가 코드 작성"></a>5. <code>MemberDAO.java</code>의 getMember()메서드 추가 코드 작성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5. 회원정보 가져오는 메서드 getMember:회원정보 전부 리턴 -&gt; 테이블에 추가</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> MemberBean <span class="title">getMember</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">	MemberBean mb = <span class="keyword">null</span>; <span class="comment">//객체 레퍼런스 생성</span></span><br><span class="line">	<span class="comment">//왜 null인가? 정보가 생성되는 시점은 rs에 있을때이다.</span></span><br><span class="line">	<span class="comment">//따라서 rs가 없을땐 굳이 만들필요가 없다.</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="comment">//5-1. 드라이브로드 디비연결</span></span><br><span class="line">	con = getCon();</span><br><span class="line">	<span class="comment">//5-2. SQL &amp; pstmt 생성</span></span><br><span class="line">	sql = <span class="string">"select * from itwill_member where id=?"</span>;</span><br><span class="line">	pstmt = con.prepareStatement(sql);</span><br><span class="line">	pstmt.setString(<span class="number">1</span>, id);</span><br><span class="line">	<span class="comment">//5-3. 실행 -&gt; rs저장</span></span><br><span class="line">	rs = pstmt.executeQuery();</span><br><span class="line">	<span class="comment">//5-4. 데이터처리 : DB에 있는 회원정보 저장 후 memberinfo페이지로 전달</span></span><br><span class="line">	<span class="comment">//DB의컬럼명을 입력할 것</span></span><br><span class="line">		<span class="keyword">if</span>(rs.next())&#123;</span><br><span class="line">			mb = <span class="keyword">new</span> MemberBean();</span><br><span class="line">			mb.setId(rs.getString(<span class="string">"id"</span>));</span><br><span class="line">			mb.setPw(rs.getString(<span class="string">"pw"</span>));</span><br><span class="line">			mb.setName(rs.getString(<span class="string">"name"</span>));</span><br><span class="line">			mb.setAge(rs.getInt(<span class="string">"age"</span>));</span><br><span class="line">			mb.setEmail(rs.getString(<span class="string">"email"</span>));</span><br><span class="line">			mb.setGender(rs.getString(<span class="string">"gender"</span>));</span><br><span class="line">			mb.setReg_date(rs.getTimestamp(<span class="string">"reg_date"</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"@@@@ DAO : 회원정보저장완료"</span>+mb);</span><br><span class="line">	&#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125; <span class="keyword">finally</span> &#123; <span class="comment">//5-5. 자원해제</span></span><br><span class="line">		closeDB();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> mb;</span><br><span class="line">&#125;<span class="comment">//getMember닫힘</span></span><br></pre></td></tr></table></figure></div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/tags/ITWILL-JAVA/">Previous</a></div><div class="pagination-next"><a href="/tags/ITWILL-JAVA/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/tags/ITWILL-JAVA/">1</a></li><li><a class="pagination-link is-current" href="/tags/ITWILL-JAVA/page/2/">2</a></li><li><a class="pagination-link" href="/tags/ITWILL-JAVA/page/3/">3</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/tags/ITWILL-JAVA/page/19/">19</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="/img/avatar.png" alt="Sowon"></figure><p class="title is-size-4 is-block line-height-inherit">Sowon</p><p class="is-size-6 is-block">Welcome to my blog. I`m enjoying coding</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Busan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">282</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/sowon-dev" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/sowon-dev"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/sowon.kim.39395"><i class="fab fa-facebook"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Django/"><span class="level-start"><span class="level-item">Django</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HTML-CSS/"><span class="level-start"><span class="level-item">HTML&amp;CSS</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JAVA/"><span class="level-start"><span class="level-item">JAVA</span></span><span class="level-end"><span class="level-item tag">53</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JSP/"><span class="level-start"><span class="level-item">JSP</span></span><span class="level-end"><span class="level-item tag">67</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">26</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Journal/"><span class="level-start"><span class="level-item">Journal</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Lectures-Seminars/"><span class="level-start"><span class="level-item">Lectures &amp; Seminars</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Version-control/"><span class="level-start"><span class="level-item">Version control</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4%EC%BB%A8%ED%8A%B8%EB%A6%AC%EB%B7%B0%ED%86%A42020/"><span class="level-start"><span class="level-item">오픈소스컨트리뷰톤2020</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EC%A0%9C%EC%A3%BC%EC%BD%94%EB%94%A9%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%BA%A0%ED%94%84-10%EA%B8%B0/"><span class="level-start"><span class="level-item">제주코딩베이스캠프 10기</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%EC%BD%94%EB%93%9C%EC%8A%A4%ED%85%8C%EC%9D%B4%EC%B8%A0-PRE35%EA%B8%B0/"><span class="level-start"><span class="level-item">코드스테이츠 PRE35기</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-17T00:00:00.000Z">2020-11-17</time></p><p class="title is-6"><a class="link-muted" href="/2020/11/17/jspList/">[ITWILL : JSP] JSP전체목록List</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/JSP/">JSP</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-16T00:00:00.000Z">2020-11-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/11/16/javaList/">[ITWILL : JAVA] JAVA전체목록List</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/JAVA/">JAVA</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-11-16T00:00:00.000Z">2020-11-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/11/16/DBList/">[ITWILL : DB] DB전체목록List</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Database/">Database</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-09-12T00:00:00.000Z">2020-09-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/09/12/opensourceList/">[오픈소스컨트리뷰톤2020] Git List</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4%EC%BB%A8%ED%8A%B8%EB%A6%AC%EB%B7%B0%ED%86%A42020/">오픈소스컨트리뷰톤2020</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-09-11T00:00:00.000Z">2020-09-11</time></p><p class="title is-6"><a class="link-muted" href="/2020/09/11/200911opensource/">[오픈소스컨트리뷰톤2020] 온라인미팅 중 현직꿀팁List</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4%EC%BB%A8%ED%8A%B8%EB%A6%AC%EB%B7%B0%ED%86%A42020/">오픈소스컨트리뷰톤2020</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">69</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">75</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">85</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/GIT/"><span class="tag">GIT</span><span class="tag is-grey-lightest">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML-CSS/"><span class="tag">HTML&amp;CSS</span><span class="tag is-grey-lightest">27</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ITWILL-JAVA/"><span class="tag">ITWILL(JAVA)</span><span class="tag is-grey-lightest">182</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Journal/"><span class="tag">Journal</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/List/"><span class="tag">List</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Oracle/"><span class="tag">Oracle</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Review/"><span class="tag">Review</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TIL/"><span class="tag">TIL</span><span class="tag is-grey-lightest">269</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web-Game/"><span class="tag">Web Game</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%EC%83%9D%ED%99%9C%EC%BD%94%EB%94%A9/"><span class="tag">생활코딩</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%ED%8C%A8%EC%8A%A4%ED%8A%B8%EC%BA%A0%ED%8D%BC%EC%8A%A4-%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%9B%B9%EA%B0%9C%EB%B0%9C/"><span class="tag">패스트캠퍼스(파이썬웹개발)</span><span class="tag is-grey-lightest">37</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/hope.svg" alt="야망찬 개발자의 블로그" height="28"></a><p class="size-small"><span>&copy; 2020 Sowon</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/sowon-dev/sowon-dev.github.io"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://github.com/sowon-dev',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>